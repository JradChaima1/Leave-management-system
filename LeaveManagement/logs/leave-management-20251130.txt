2025-11-30 23:23:53.610 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:23:53.738 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [LeaveManagementDB] SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
END;
2025-11-30 23:23:53.880 +00:00 [INF] Executed DbCommand (137ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
DROP DATABASE [LeaveManagementDB];
2025-11-30 23:24:00.865 +00:00 [INF] Executed DbCommand (306ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [LeaveManagementDB];
2025-11-30 23:24:01.109 +00:00 [INF] Executed DbCommand (199ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [LeaveManagementDB] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-11-30 23:24:01.205 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:24:01.210 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-30 23:24:01.242 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-30 23:24:01.311 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-30 23:24:01.321 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:24:01.325 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-30 23:24:01.338 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-30 23:24:01.348 +00:00 [INF] Applying migration '20251130212842_InitialCreate'.
2025-11-30 23:24:01.389 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Holidays] (
    [HolidayId] int NOT NULL IDENTITY,
    [Name] nvarchar(200) NOT NULL,
    [Date] datetime2 NOT NULL,
    [IsRecurring] bit NOT NULL DEFAULT CAST(0 AS bit),
    [Description] nvarchar(500) NOT NULL,
    CONSTRAINT [PK_Holidays] PRIMARY KEY ([HolidayId])
);
2025-11-30 23:24:01.396 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [LeaveTypes] (
    [LeaveTypeId] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Description] nvarchar(500) NOT NULL,
    [MaxDaysPerYear] int NOT NULL,
    [RequiresApproval] bit NOT NULL DEFAULT CAST(1 AS bit),
    [IsPaid] bit NOT NULL DEFAULT CAST(1 AS bit),
    CONSTRAINT [PK_LeaveTypes] PRIMARY KEY ([LeaveTypeId])
);
2025-11-30 23:24:01.402 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Roles] (
    [RoleId] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([RoleId])
);
2025-11-30 23:24:01.408 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Departments] (
    [DepartmentId] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Description] nvarchar(500) NOT NULL,
    [ManagerId] int NULL,
    CONSTRAINT [PK_Departments] PRIMARY KEY ([DepartmentId])
);
2025-11-30 23:24:01.414 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Employees] (
    [EmployeeId] int NOT NULL IDENTITY,
    [FirstName] nvarchar(100) NOT NULL,
    [LastName] nvarchar(100) NOT NULL,
    [Email] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(max) NOT NULL,
    [Department] nvarchar(100) NOT NULL,
    [Position] nvarchar(100) NOT NULL,
    [HireDate] datetime2 NOT NULL,
    [ManagerId] int NULL,
    [AnnualLeaveBalance] decimal(5,2) NOT NULL,
    [SickLeaveBalance] decimal(5,2) NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [DepartmentId] int NULL,
    CONSTRAINT [PK_Employees] PRIMARY KEY ([EmployeeId]),
    CONSTRAINT [FK_Employees_Departments_DepartmentId] FOREIGN KEY ([DepartmentId]) REFERENCES [Departments] ([DepartmentId]),
    CONSTRAINT [FK_Employees_Employees_ManagerId] FOREIGN KEY ([ManagerId]) REFERENCES [Employees] ([EmployeeId]) ON DELETE NO ACTION
);
2025-11-30 23:24:01.422 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [LeaveBalances] (
    [LeaveBalanceId] int NOT NULL IDENTITY,
    [EmployeeId] int NOT NULL,
    [LeaveTypeId] int NOT NULL,
    [Year] int NOT NULL,
    [TotalDays] decimal(5,2) NOT NULL,
    [UsedDays] decimal(5,2) NOT NULL,
    [RemainingDays] decimal(5,2) NOT NULL,
    CONSTRAINT [PK_LeaveBalances] PRIMARY KEY ([LeaveBalanceId]),
    CONSTRAINT [FK_LeaveBalances_Employees_EmployeeId] FOREIGN KEY ([EmployeeId]) REFERENCES [Employees] ([EmployeeId]) ON DELETE CASCADE,
    CONSTRAINT [FK_LeaveBalances_LeaveTypes_LeaveTypeId] FOREIGN KEY ([LeaveTypeId]) REFERENCES [LeaveTypes] ([LeaveTypeId]) ON DELETE NO ACTION
);
2025-11-30 23:24:01.428 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [LeaveRequests] (
    [LeaveRequestId] int NOT NULL IDENTITY,
    [EmployeeId] int NOT NULL,
    [LeaveTypeId] int NOT NULL,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [TotalDays] decimal(5,2) NOT NULL,
    [Reason] nvarchar(1000) NOT NULL,
    [Status] nvarchar(50) NOT NULL,
    [RequestDate] datetime2 NOT NULL,
    [ApprovedBy] int NULL,
    [ApprovalDate] datetime2 NULL,
    [RejectionReason] nvarchar(500) NOT NULL,
    [AttachmentPath] nvarchar(500) NOT NULL,
    CONSTRAINT [PK_LeaveRequests] PRIMARY KEY ([LeaveRequestId]),
    CONSTRAINT [FK_LeaveRequests_Employees_ApprovedBy] FOREIGN KEY ([ApprovedBy]) REFERENCES [Employees] ([EmployeeId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_LeaveRequests_Employees_EmployeeId] FOREIGN KEY ([EmployeeId]) REFERENCES [Employees] ([EmployeeId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_LeaveRequests_LeaveTypes_LeaveTypeId] FOREIGN KEY ([LeaveTypeId]) REFERENCES [LeaveTypes] ([LeaveTypeId]) ON DELETE NO ACTION
);
2025-11-30 23:24:01.433 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] int NOT NULL IDENTITY,
    [Username] nvarchar(100) NOT NULL,
    [PasswordHash] nvarchar(500) NOT NULL,
    [Email] nvarchar(200) NOT NULL,
    [RoleId] int NOT NULL,
    [EmployeeId] int NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [CreatedDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId]),
    CONSTRAINT [FK_Users_Employees_EmployeeId] FOREIGN KEY ([EmployeeId]) REFERENCES [Employees] ([EmployeeId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Users_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([RoleId]) ON DELETE NO ACTION
);
2025-11-30 23:24:01.441 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Departments_ManagerId] ON [Departments] ([ManagerId]);
2025-11-30 23:24:01.444 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Employees_DepartmentId] ON [Employees] ([DepartmentId]);
2025-11-30 23:24:01.446 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Employees_ManagerId] ON [Employees] ([ManagerId]);
2025-11-30 23:24:01.449 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_LeaveBalances_EmployeeId] ON [LeaveBalances] ([EmployeeId]);
2025-11-30 23:24:01.452 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_LeaveBalances_LeaveTypeId] ON [LeaveBalances] ([LeaveTypeId]);
2025-11-30 23:24:01.456 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_LeaveRequests_ApprovedBy] ON [LeaveRequests] ([ApprovedBy]);
2025-11-30 23:24:01.459 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_LeaveRequests_EmployeeId] ON [LeaveRequests] ([EmployeeId]);
2025-11-30 23:24:01.463 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_LeaveRequests_LeaveTypeId] ON [LeaveRequests] ([LeaveTypeId]);
2025-11-30 23:24:01.465 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_EmployeeId] ON [Users] ([EmployeeId]);
2025-11-30 23:24:01.468 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Users_RoleId] ON [Users] ([RoleId]);
2025-11-30 23:24:01.474 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Departments] ADD CONSTRAINT [FK_Departments_Employees_ManagerId] FOREIGN KEY ([ManagerId]) REFERENCES [Employees] ([EmployeeId]) ON DELETE NO ACTION;
2025-11-30 23:24:01.481 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251130212842_InitialCreate', N'10.0.0');
2025-11-30 23:24:01.489 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-30 23:24:09.564 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:24:09.636 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-30 23:24:09.660 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-30 23:24:09.796 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-30 23:24:09.825 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:24:09.828 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-30 23:24:09.879 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-30 23:24:09.894 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-11-30 23:24:09.899 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-30 23:24:10.197 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-30 23:24:10.472 +00:00 [INF] Executed DbCommand (70ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (Size = 200), @p3='?' (Size = 50), @p4='?' (Size = 200), @p5='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Roles] USING (
VALUES (@p0, @p1, 0),
(@p2, @p3, 1),
(@p4, @p5, 2)) AS i ([Description], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Description], [Name])
VALUES (i.[Description], i.[Name])
OUTPUT INSERTED.[RoleId], i._Position;
2025-11-30 23:24:10.593 +00:00 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (Size = 500), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (Size = 500), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 500), @p10='?' (DbType = Int32), @p11='?' (Size = 100), @p12='?' (Size = 500), @p13='?' (DbType = Int32), @p14='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Departments] USING (
VALUES (@p0, @p1, @p2, 0),
(@p3, @p4, @p5, 1),
(@p6, @p7, @p8, 2),
(@p9, @p10, @p11, 3),
(@p12, @p13, @p14, 4)) AS i ([Description], [ManagerId], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Description], [ManagerId], [Name])
VALUES (i.[Description], i.[ManagerId], i.[Name])
OUTPUT INSERTED.[DepartmentId], i._Position;
2025-11-30 23:24:10.667 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (Size = 500), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (Size = 500), @p8='?' (DbType = Int32), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (Size = 100), @p14='?' (Size = 500), @p15='?' (DbType = Int32), @p16='?' (Size = 100), @p17='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [LeaveTypes] ([Description], [MaxDaysPerYear], [Name])
OUTPUT INSERTED.[LeaveTypeId], INSERTED.[IsPaid], INSERTED.[RequiresApproval]
VALUES (@p0, @p1, @p2);
INSERT INTO [LeaveTypes] ([Description], [MaxDaysPerYear], [Name], [RequiresApproval])
OUTPUT INSERTED.[LeaveTypeId], INSERTED.[IsPaid]
VALUES (@p3, @p4, @p5, @p6);
INSERT INTO [LeaveTypes] ([Description], [MaxDaysPerYear], [Name])
OUTPUT INSERTED.[LeaveTypeId], INSERTED.[IsPaid], INSERTED.[RequiresApproval]
VALUES (@p7, @p8, @p9);
INSERT INTO [LeaveTypes] ([Description], [IsPaid], [MaxDaysPerYear], [Name])
OUTPUT INSERTED.[LeaveTypeId], INSERTED.[RequiresApproval]
VALUES (@p10, @p11, @p12, @p13);
INSERT INTO [LeaveTypes] ([Description], [MaxDaysPerYear], [Name], [RequiresApproval])
OUTPUT INSERTED.[LeaveTypeId], INSERTED.[IsPaid]
VALUES (@p14, @p15, @p16, @p17);
2025-11-30 23:24:10.763 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 100), @p10='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 100), @p13='?' (DbType = Int32), @p14='?' (Size = 200), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2), @p17='?' (Size = 100), @p18='?' (DbType = Int32), @p19='?' (Size = 4000), @p20='?' (Size = 100), @p21='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p22='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p23='?' (Size = 100), @p24='?' (DbType = Int32), @p25='?' (Size = 200), @p26='?' (Size = 100), @p27='?' (DbType = DateTime2), @p28='?' (Size = 100), @p29='?' (DbType = Int32), @p30='?' (Size = 4000), @p31='?' (Size = 100), @p32='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p33='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p34='?' (Size = 100), @p35='?' (DbType = Int32), @p36='?' (Size = 200), @p37='?' (Size = 100), @p38='?' (DbType = DateTime2), @p39='?' (Size = 100), @p40='?' (DbType = Int32), @p41='?' (Size = 4000), @p42='?' (Size = 100), @p43='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p44='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p45='?' (Size = 100), @p46='?' (DbType = Int32), @p47='?' (Size = 200), @p48='?' (Size = 100), @p49='?' (DbType = DateTime2), @p50='?' (Size = 100), @p51='?' (DbType = Int32), @p52='?' (Size = 4000), @p53='?' (Size = 100), @p54='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Employees] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, 0),
(@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, 1),
(@p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, 2),
(@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, 3),
(@p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, 4)) AS i ([AnnualLeaveBalance], [Department], [DepartmentId], [Email], [FirstName], [HireDate], [LastName], [ManagerId], [PhoneNumber], [Position], [SickLeaveBalance], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AnnualLeaveBalance], [Department], [DepartmentId], [Email], [FirstName], [HireDate], [LastName], [ManagerId], [PhoneNumber], [Position], [SickLeaveBalance])
VALUES (i.[AnnualLeaveBalance], i.[Department], i.[DepartmentId], i.[Email], i.[FirstName], i.[HireDate], i.[LastName], i.[ManagerId], i.[PhoneNumber], i.[Position], i.[SickLeaveBalance])
OUTPUT INSERTED.[EmployeeId], INSERTED.[IsActive], i._Position;
2025-11-30 23:24:10.825 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p3='?' (DbType = Int32), @p2='?' (DbType = Int32), @p5='?' (DbType = Int32), @p4='?' (DbType = Int32), @p7='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Employees] SET [ManagerId] = @p0
OUTPUT 1
WHERE [EmployeeId] = @p1;
UPDATE [Employees] SET [ManagerId] = @p2
OUTPUT 1
WHERE [EmployeeId] = @p3;
UPDATE [Employees] SET [ManagerId] = @p4
OUTPUT 1
WHERE [EmployeeId] = @p5;
UPDATE [Employees] SET [ManagerId] = @p6
OUTPUT 1
WHERE [EmployeeId] = @p7;
2025-11-30 23:24:11.320 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 200), @p2='?' (DbType = Int32), @p3='?' (Size = 500), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200), @p8='?' (DbType = Int32), @p9='?' (Size = 500), @p10='?' (DbType = Int32), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (Size = 200), @p14='?' (DbType = Int32), @p15='?' (Size = 500), @p16='?' (DbType = Int32), @p17='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Users] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2)) AS i ([CreatedDate], [Email], [EmployeeId], [PasswordHash], [RoleId], [Username], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedDate], [Email], [EmployeeId], [PasswordHash], [RoleId], [Username])
VALUES (i.[CreatedDate], i.[Email], i.[EmployeeId], i.[PasswordHash], i.[RoleId], i.[Username])
OUTPUT INSERTED.[UserId], INSERTED.[IsActive], i._Position;
2025-11-30 23:24:11.353 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (DbType = DateTime2), @p5='?' (Size = 500), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Boolean), @p11='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Holidays] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1),
(@p8, @p9, @p10, @p11, 2)) AS i ([Date], [Description], [IsRecurring], [Name], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Date], [Description], [IsRecurring], [Name])
VALUES (i.[Date], i.[Description], i.[IsRecurring], i.[Name])
OUTPUT INSERTED.[HolidayId], i._Position;
2025-11-30 23:24:11.414 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p3='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p4='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p9='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p10='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p15='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p16='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p17='?' (DbType = Int32), @p18='?' (DbType = Int32), @p19='?' (DbType = Int32), @p20='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p21='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p22='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p23='?' (DbType = Int32), @p24='?' (DbType = Int32), @p25='?' (DbType = Int32), @p26='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p27='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p28='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p29='?' (DbType = Int32), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p33='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p34='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (DbType = Int32), @p38='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p39='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p40='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = Int32), @p44='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p45='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p46='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p47='?' (DbType = Int32), @p48='?' (DbType = Int32), @p49='?' (DbType = Int32), @p50='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p51='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p52='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p53='?' (DbType = Int32), @p54='?' (DbType = Int32), @p55='?' (DbType = Int32), @p56='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p57='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p58='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p59='?' (DbType = Int32), @p60='?' (DbType = Int32), @p61='?' (DbType = Int32), @p62='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p63='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p64='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p65='?' (DbType = Int32), @p66='?' (DbType = Int32), @p67='?' (DbType = Int32), @p68='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p69='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p70='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = Int32), @p74='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p75='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p76='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p77='?' (DbType = Int32), @p78='?' (DbType = Int32), @p79='?' (DbType = Int32), @p80='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p81='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p82='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p83='?' (DbType = Int32), @p84='?' (DbType = Int32), @p85='?' (DbType = Int32), @p86='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p87='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p88='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p89='?' (DbType = Int32), @p90='?' (DbType = Int32), @p91='?' (DbType = Int32), @p92='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p93='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p94='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p95='?' (DbType = Int32), @p96='?' (DbType = Int32), @p97='?' (DbType = Int32), @p98='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p99='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p100='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = Int32), @p104='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p105='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p106='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p107='?' (DbType = Int32), @p108='?' (DbType = Int32), @p109='?' (DbType = Int32), @p110='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p111='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p112='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = Int32), @p116='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p117='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p118='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p119='?' (DbType = Int32), @p120='?' (DbType = Int32), @p121='?' (DbType = Int32), @p122='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p123='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p124='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p125='?' (DbType = Int32), @p126='?' (DbType = Int32), @p127='?' (DbType = Int32), @p128='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p129='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p130='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p131='?' (DbType = Int32), @p132='?' (DbType = Int32), @p133='?' (DbType = Int32), @p134='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p135='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p136='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p137='?' (DbType = Int32), @p138='?' (DbType = Int32), @p139='?' (DbType = Int32), @p140='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p141='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p142='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p143='?' (DbType = Int32), @p144='?' (DbType = Int32), @p145='?' (DbType = Int32), @p146='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p147='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p148='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p149='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [LeaveBalances] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17),
(@p108, @p109, @p110, @p111, @p112, @p113, 18),
(@p114, @p115, @p116, @p117, @p118, @p119, 19),
(@p120, @p121, @p122, @p123, @p124, @p125, 20),
(@p126, @p127, @p128, @p129, @p130, @p131, 21),
(@p132, @p133, @p134, @p135, @p136, @p137, 22),
(@p138, @p139, @p140, @p141, @p142, @p143, 23),
(@p144, @p145, @p146, @p147, @p148, @p149, 24)) AS i ([EmployeeId], [LeaveTypeId], [RemainingDays], [TotalDays], [UsedDays], [Year], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([EmployeeId], [LeaveTypeId], [RemainingDays], [TotalDays], [UsedDays], [Year])
VALUES (i.[EmployeeId], i.[LeaveTypeId], i.[RemainingDays], i.[TotalDays], i.[UsedDays], i.[Year])
OUTPUT INSERTED.[LeaveBalanceId], i._Position;
2025-11-30 23:24:11.533 +00:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-30 23:24:11.606 +00:00 [INF] Now listening on: http://localhost:5200
2025-11-30 23:24:11.609 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-30 23:24:11.610 +00:00 [INF] Hosting environment: Development
2025-11-30 23:24:11.611 +00:00 [INF] Content root path: C:\Users\hp\Documents\Projects\Leave Management system\LeaveManagement
2025-11-30 23:24:30.386 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:24:30.395 +00:00 [WRN] Failed to determine the https port for redirect.
2025-11-30 23:24:30.423 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:24:30.431 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:24:30.476 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:24:30.596 +00:00 [INF] Executed ViewResult - view Login executed in 119.7051ms.
2025-11-30 23:24:30.605 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 170.1406ms
2025-11-30 23:24:30.607 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:24:30.617 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 232.5606ms
2025-11-30 23:24:30.695 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/lib/bootstrap/dist/css/bootstrap.min.css - null null
2025-11-30 23:24:30.695 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/css/site.css - null null
2025-11-30 23:24:30.704 +00:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css was not modified
2025-11-30 23:24:30.704 +00:00 [INF] The file /css/site.css was not modified
2025-11-30 23:24:30.706 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/lib/bootstrap/dist/css/bootstrap.min.css - 304 null text/css 11.3052ms
2025-11-30 23:24:30.707 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/css/site.css - 304 null text/css 12.2498ms
2025-11-30 23:24:38.540 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 215
2025-11-30 23:24:38.548 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:24:38.564 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:24:38.714 +00:00 [INF] Login attempt for username: admin
2025-11-30 23:24:38.837 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:24:39.126 +00:00 [INF] Login successful: User admin, Role 1
2025-11-30 23:24:39.129 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:24:39.136 +00:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2025-11-30 23:24:39.139 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 571.0683ms
2025-11-30 23:24:39.141 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:24:39.147 +00:00 [INF] Session started; Key:fe076fab-e5c2-9c6a-5b63-a8853950d923, Id:77aced11-9ba9-0fad-f7cc-e3753af883f0
2025-11-30 23:24:39.154 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 302 0 null 613.8966ms
2025-11-30 23:24:39.158 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:24:39.164 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:24:39.176 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:24:39.212 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:24:39.410 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:24:39.450 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:24:39.486 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:24:39.515 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:24:39.545 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:24:39.555 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:24:39.566 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:24:39.580 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:24:39.591 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:24:39.602 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:24:39.715 +00:00 [INF] Executed ViewResult - view Index executed in 114.4054ms.
2025-11-30 23:24:39.718 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 539.3285ms
2025-11-30 23:24:39.721 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:24:39.724 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 565.5522ms
2025-11-30 23:24:39.767 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/css/site.css?v=PD_WYeGhJN5xosZsv1cHLTWh8wDMN3s1bVw7PvXATrQ - null null
2025-11-30 23:24:39.768 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/lib/jquery/dist/jquery.min.js - null null
2025-11-30 23:24:39.769 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2025-11-30 23:24:39.769 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/js/site.js?v=hRQyftXiu1lLX2P9Ly9xa4gHJgLeR1uGN5qegUobtGo - null null
2025-11-30 23:24:39.772 +00:00 [INF] The file /css/site.css was not modified
2025-11-30 23:24:39.775 +00:00 [INF] The file /lib/jquery/dist/jquery.min.js was not modified
2025-11-30 23:24:39.778 +00:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js was not modified
2025-11-30 23:24:39.781 +00:00 [INF] The file /js/site.js was not modified
2025-11-30 23:24:39.782 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/css/site.css?v=PD_WYeGhJN5xosZsv1cHLTWh8wDMN3s1bVw7PvXATrQ - 304 null text/css 15.6425ms
2025-11-30 23:24:39.784 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/lib/jquery/dist/jquery.min.js - 304 null text/javascript 16.3785ms
2025-11-30 23:24:39.785 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 304 null text/javascript 16.737ms
2025-11-30 23:24:39.787 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/js/site.js?v=hRQyftXiu1lLX2P9Ly9xa4gHJgLeR1uGN5qegUobtGo - 304 null text/javascript 18.0062ms
2025-11-30 23:24:42.965 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Index - null null
2025-11-30 23:24:42.973 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:24:42.984 +00:00 [INF] Route matched with {action = "Index", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:24:42.991 +00:00 [INF] Fetching all employees
2025-11-30 23:24:42.994 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:24:42.999 +00:00 [INF] Retrieved 5 employees
2025-11-30 23:24:43.004 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:24:43.021 +00:00 [INF] Executed ViewResult - view Index executed in 18.6958ms.
2025-11-30 23:24:43.024 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement) in 35.876ms
2025-11-30 23:24:43.026 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:24:43.028 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Index - 200 null text/html; charset=utf-8 63.462ms
2025-11-30 23:24:45.320 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Edit/1 - null null
2025-11-30 23:24:45.326 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement)'
2025-11-30 23:24:45.335 +00:00 [INF] Route matched with {action = "Edit", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32) on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:24:45.341 +00:00 [INF] Fetching employee with ID: 1
2025-11-30 23:24:45.374 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
WHERE [e].[EmployeeId] = @p
2025-11-30 23:24:45.380 +00:00 [INF] Executing ViewResult, running view Edit.
2025-11-30 23:24:45.444 +00:00 [INF] Executed ViewResult - view Edit executed in 65.0865ms.
2025-11-30 23:24:45.447 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement) in 109.252ms
2025-11-30 23:24:45.450 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement)'
2025-11-30 23:24:45.452 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Edit/1 - 200 null text/html; charset=utf-8 132.7347ms
2025-11-30 23:24:47.593 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/Employees/Edit/1 - application/x-www-form-urlencoded 369
2025-11-30 23:24:47.598 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement)'
2025-11-30 23:24:47.616 +00:00 [INF] Route matched with {action = "Edit", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Leave.Core.Models.Employee) on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:24:47.637 +00:00 [INF] Updating employee: 1
2025-11-30 23:24:47.654 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
WHERE [e].[EmployeeId] = @p
2025-11-30 23:24:47.706 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@p12='?' (DbType = Int32), @p0='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 100), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [AnnualLeaveBalance] = @p0, [Department] = @p1, [DepartmentId] = @p2, [Email] = @p3, [FirstName] = @p4, [HireDate] = @p5, [IsActive] = @p6, [LastName] = @p7, [ManagerId] = @p8, [PhoneNumber] = @p9, [Position] = @p10, [SickLeaveBalance] = @p11
OUTPUT 1
WHERE [EmployeeId] = @p12;
2025-11-30 23:24:47.721 +00:00 [INF] Employee updated successfully: 1
2025-11-30 23:24:47.723 +00:00 [INF] Executing RedirectResult, redirecting to /Employees/Index.
2025-11-30 23:24:47.727 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement) in 106.6919ms
2025-11-30 23:24:47.731 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement)'
2025-11-30 23:24:47.734 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/Employees/Edit/1 - 302 0 null 141.4041ms
2025-11-30 23:24:47.739 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Index - null null
2025-11-30 23:24:47.744 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:24:47.745 +00:00 [INF] Route matched with {action = "Index", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:24:47.751 +00:00 [INF] Fetching all employees
2025-11-30 23:24:47.755 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:24:47.759 +00:00 [INF] Retrieved 5 employees
2025-11-30 23:24:47.761 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:24:47.766 +00:00 [INF] Executed ViewResult - view Index executed in 5.4493ms.
2025-11-30 23:24:47.770 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement) in 19.9935ms
2025-11-30 23:24:47.772 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:24:47.775 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Index - 200 null text/html; charset=utf-8 36.0936ms
2025-11-30 23:24:51.859 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Edit/1 - null null
2025-11-30 23:24:51.863 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement)'
2025-11-30 23:24:51.864 +00:00 [INF] Route matched with {action = "Edit", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32) on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:24:51.868 +00:00 [INF] Fetching employee with ID: 1
2025-11-30 23:24:51.902 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
WHERE [e].[EmployeeId] = @p
2025-11-30 23:24:51.906 +00:00 [INF] Executing ViewResult, running view Edit.
2025-11-30 23:24:51.911 +00:00 [INF] Executed ViewResult - view Edit executed in 4.7107ms.
2025-11-30 23:24:51.916 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement) in 49.6181ms
2025-11-30 23:24:51.919 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement)'
2025-11-30 23:24:51.922 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Edit/1 - 200 null text/html; charset=utf-8 62.4318ms
2025-11-30 23:25:03.836 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/Employees/Edit/1 - application/x-www-form-urlencoded 372
2025-11-30 23:25:03.843 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement)'
2025-11-30 23:25:03.845 +00:00 [INF] Route matched with {action = "Edit", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Leave.Core.Models.Employee) on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:25:03.851 +00:00 [INF] Updating employee: 1
2025-11-30 23:25:03.857 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
WHERE [e].[EmployeeId] = @p
2025-11-30 23:25:03.875 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@p12='?' (DbType = Int32), @p0='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 100), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [AnnualLeaveBalance] = @p0, [Department] = @p1, [DepartmentId] = @p2, [Email] = @p3, [FirstName] = @p4, [HireDate] = @p5, [IsActive] = @p6, [LastName] = @p7, [ManagerId] = @p8, [PhoneNumber] = @p9, [Position] = @p10, [SickLeaveBalance] = @p11
OUTPUT 1
WHERE [EmployeeId] = @p12;
2025-11-30 23:25:03.880 +00:00 [INF] Employee updated successfully: 1
2025-11-30 23:25:03.883 +00:00 [INF] Executing RedirectResult, redirecting to /Employees/Index.
2025-11-30 23:25:03.885 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement) in 36.5063ms
2025-11-30 23:25:03.887 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement)'
2025-11-30 23:25:03.889 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/Employees/Edit/1 - 302 0 null 53.3348ms
2025-11-30 23:25:03.893 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Index - null null
2025-11-30 23:25:03.899 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:25:03.905 +00:00 [INF] Route matched with {action = "Index", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:25:03.908 +00:00 [INF] Fetching all employees
2025-11-30 23:25:03.911 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:25:03.917 +00:00 [INF] Retrieved 5 employees
2025-11-30 23:25:03.919 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:25:03.923 +00:00 [INF] Executed ViewResult - view Index executed in 3.1619ms.
2025-11-30 23:25:03.924 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement) in 17.4555ms
2025-11-30 23:25:03.926 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:25:03.928 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Index - 200 null text/html; charset=utf-8 34.5676ms
2025-11-30 23:25:12.263 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Edit/1 - null null
2025-11-30 23:25:12.268 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement)'
2025-11-30 23:25:12.269 +00:00 [INF] Route matched with {action = "Edit", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32) on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:25:12.274 +00:00 [INF] Fetching employee with ID: 1
2025-11-30 23:25:12.280 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
WHERE [e].[EmployeeId] = @p
2025-11-30 23:25:12.286 +00:00 [INF] Executing ViewResult, running view Edit.
2025-11-30 23:25:12.289 +00:00 [INF] Executed ViewResult - view Edit executed in 3.5845ms.
2025-11-30 23:25:12.291 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement) in 18.1326ms
2025-11-30 23:25:12.292 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement)'
2025-11-30 23:25:12.294 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Edit/1 - 200 null text/html; charset=utf-8 31.2019ms
2025-11-30 23:25:21.359 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Index - null null
2025-11-30 23:25:21.363 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:25:21.364 +00:00 [INF] Route matched with {action = "Index", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:25:21.367 +00:00 [INF] Fetching all employees
2025-11-30 23:25:21.370 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:25:21.375 +00:00 [INF] Retrieved 5 employees
2025-11-30 23:25:21.378 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:25:21.381 +00:00 [INF] Executed ViewResult - view Index executed in 3.2449ms.
2025-11-30 23:25:21.384 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement) in 17.3494ms
2025-11-30 23:25:21.386 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:25:21.388 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Index - 200 null text/html; charset=utf-8 28.6272ms
2025-11-30 23:25:22.482 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Details/1 - null null
2025-11-30 23:25:22.488 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Details (LeaveManagement)'
2025-11-30 23:25:22.501 +00:00 [INF] Route matched with {action = "Details", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32) on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:25:22.506 +00:00 [INF] Fetching employee details: 1
2025-11-30 23:25:22.584 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[EmployeeId], [e0].[AnnualLeaveBalance], [e0].[Department], [e0].[DepartmentId], [e0].[Email], [e0].[FirstName], [e0].[HireDate], [e0].[IsActive], [e0].[LastName], [e0].[ManagerId], [e0].[PhoneNumber], [e0].[Position], [e0].[SickLeaveBalance], [s].[LeaveRequestId], [s].[ApprovalDate], [s].[ApprovedBy], [s].[AttachmentPath], [s].[EmployeeId], [s].[EndDate], [s].[LeaveTypeId], [s].[Reason], [s].[RejectionReason], [s].[RequestDate], [s].[StartDate], [s].[Status], [s].[TotalDays], [s].[LeaveTypeId0], [s].[Description], [s].[IsPaid], [s].[MaxDaysPerYear], [s].[Name], [s].[RequiresApproval]
FROM (
    SELECT TOP(1) [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
    FROM [Employees] AS [e]
    WHERE [e].[EmployeeId] = @employeeId
) AS [e0]
LEFT JOIN (
    SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId] AS [LeaveTypeId0], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
    FROM [LeaveRequests] AS [l]
    INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
) AS [s] ON [e0].[EmployeeId] = [s].[EmployeeId]
ORDER BY [e0].[EmployeeId], [s].[LeaveRequestId]
2025-11-30 23:25:22.599 +00:00 [INF] Executing ViewResult, running view Details.
2025-11-30 23:25:22.616 +00:00 [INF] Executed ViewResult - view Details executed in 17.7107ms.
2025-11-30 23:25:22.618 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Details (LeaveManagement) in 114.5431ms
2025-11-30 23:25:22.621 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Details (LeaveManagement)'
2025-11-30 23:25:22.623 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Details/1 - 200 null text/html; charset=utf-8 140.2599ms
2025-11-30 23:25:25.333 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Edit/1 - null null
2025-11-30 23:25:25.336 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement)'
2025-11-30 23:25:25.337 +00:00 [INF] Route matched with {action = "Edit", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32) on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:25:25.341 +00:00 [INF] Fetching employee with ID: 1
2025-11-30 23:25:25.344 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
WHERE [e].[EmployeeId] = @p
2025-11-30 23:25:25.349 +00:00 [INF] Executing ViewResult, running view Edit.
2025-11-30 23:25:25.353 +00:00 [INF] Executed ViewResult - view Edit executed in 3.8314ms.
2025-11-30 23:25:25.355 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement) in 14.8127ms
2025-11-30 23:25:25.357 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Edit (LeaveManagement)'
2025-11-30 23:25:25.358 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Edit/1 - 200 null text/html; charset=utf-8 25.4592ms
2025-11-30 23:25:26.880 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Index - null null
2025-11-30 23:25:26.884 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:25:26.885 +00:00 [INF] Route matched with {action = "Index", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:25:26.888 +00:00 [INF] Fetching all employees
2025-11-30 23:25:26.890 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:25:26.894 +00:00 [INF] Retrieved 5 employees
2025-11-30 23:25:26.898 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:25:26.902 +00:00 [INF] Executed ViewResult - view Index executed in 3.8766ms.
2025-11-30 23:25:26.904 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement) in 16.029ms
2025-11-30 23:25:26.906 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:25:26.908 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Index - 200 null text/html; charset=utf-8 27.8819ms
2025-11-30 23:25:32.318 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Create - null null
2025-11-30 23:25:32.322 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Create (LeaveManagement)'
2025-11-30 23:25:32.325 +00:00 [INF] Route matched with {action = "Create", controller = "Employees"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:25:32.330 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:25:32.356 +00:00 [INF] Executed ViewResult - view Create executed in 27.0115ms.
2025-11-30 23:25:32.358 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Create (LeaveManagement) in 30.3414ms
2025-11-30 23:25:32.360 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Create (LeaveManagement)'
2025-11-30 23:25:32.363 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Create - 200 null text/html; charset=utf-8 45.2726ms
2025-11-30 23:25:44.889 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/Employees/Create - application/x-www-form-urlencoded 336
2025-11-30 23:25:44.897 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Create (LeaveManagement)'
2025-11-30 23:25:44.912 +00:00 [INF] Route matched with {action = "Create", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.Employee) on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:25:44.921 +00:00 [INF] Creating employee: yasmine@gmail.com
2025-11-30 23:25:44.944 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 100), @p10='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Employees] ([AnnualLeaveBalance], [Department], [DepartmentId], [Email], [FirstName], [HireDate], [LastName], [ManagerId], [PhoneNumber], [Position], [SickLeaveBalance])
OUTPUT INSERTED.[EmployeeId], INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-30 23:25:44.952 +00:00 [INF] Employee created successfully: 6, yasmine@gmail.com
2025-11-30 23:25:44.954 +00:00 [INF] Executing RedirectResult, redirecting to /Employees/Index.
2025-11-30 23:25:44.957 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Create (LeaveManagement) in 39.8823ms
2025-11-30 23:25:44.959 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Create (LeaveManagement)'
2025-11-30 23:25:44.963 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/Employees/Create - 302 0 null 74.8546ms
2025-11-30 23:25:44.969 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Index - null null
2025-11-30 23:25:44.973 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:25:44.975 +00:00 [INF] Route matched with {action = "Index", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:25:44.981 +00:00 [INF] Fetching all employees
2025-11-30 23:25:44.984 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:25:44.989 +00:00 [INF] Retrieved 6 employees
2025-11-30 23:25:44.991 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:25:44.995 +00:00 [INF] Executed ViewResult - view Index executed in 4.1206ms.
2025-11-30 23:25:44.998 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement) in 18.1146ms
2025-11-30 23:25:45.001 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:25:45.004 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Index - 200 null text/html; charset=utf-8 34.292ms
2025-11-30 23:25:49.547 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Delete/6 - null null
2025-11-30 23:25:49.551 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Delete (LeaveManagement)'
2025-11-30 23:25:49.558 +00:00 [INF] Route matched with {action = "Delete", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:25:49.566 +00:00 [INF] Deleting employee: 6
2025-11-30 23:25:49.570 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
WHERE [e].[EmployeeId] = @p
2025-11-30 23:25:49.586 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@p12='?' (DbType = Int32), @p0='?' (Precision = 5) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 100), @p2='?' (DbType = Int32), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (Size = 100), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 100), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Employees] SET [AnnualLeaveBalance] = @p0, [Department] = @p1, [DepartmentId] = @p2, [Email] = @p3, [FirstName] = @p4, [HireDate] = @p5, [IsActive] = @p6, [LastName] = @p7, [ManagerId] = @p8, [PhoneNumber] = @p9, [Position] = @p10, [SickLeaveBalance] = @p11
OUTPUT 1
WHERE [EmployeeId] = @p12;
2025-11-30 23:25:49.590 +00:00 [INF] Employee soft-deleted successfully: 6
2025-11-30 23:25:49.592 +00:00 [INF] Executing RedirectResult, redirecting to /Employees/Index.
2025-11-30 23:25:49.593 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Delete (LeaveManagement) in 30.4531ms
2025-11-30 23:25:49.596 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Delete (LeaveManagement)'
2025-11-30 23:25:49.598 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Delete/6 - 302 0 null 51.3724ms
2025-11-30 23:25:49.603 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Index - null null
2025-11-30 23:25:49.606 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:25:49.608 +00:00 [INF] Route matched with {action = "Index", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:25:49.612 +00:00 [INF] Fetching all employees
2025-11-30 23:25:49.615 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:25:49.619 +00:00 [INF] Retrieved 6 employees
2025-11-30 23:25:49.620 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:25:49.622 +00:00 [INF] Executed ViewResult - view Index executed in 2.1208ms.
2025-11-30 23:25:49.624 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement) in 12.758ms
2025-11-30 23:25:49.626 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:25:49.629 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Index - 200 null text/html; charset=utf-8 25.5806ms
2025-11-30 23:25:55.601 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Index - null null
2025-11-30 23:25:55.606 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:25:55.617 +00:00 [INF] Route matched with {action = "Index", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:25:55.634 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
2025-11-30 23:25:55.638 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:25:55.656 +00:00 [INF] Executed ViewResult - view Index executed in 17.9802ms.
2025-11-30 23:25:55.659 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement) in 37.0921ms
2025-11-30 23:25:55.665 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:25:55.667 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Index - 200 null text/html; charset=utf-8 65.6141ms
2025-11-30 23:25:59.649 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Create - null null
2025-11-30 23:25:59.654 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Create (LeaveManagement)'
2025-11-30 23:25:59.656 +00:00 [INF] Route matched with {action = "Create", controller = "Departments"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:25:59.661 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:25:59.685 +00:00 [INF] Executed ViewResult - view Create executed in 25.013ms.
2025-11-30 23:25:59.687 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Create (LeaveManagement) in 27.8675ms
2025-11-30 23:25:59.690 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Create (LeaveManagement)'
2025-11-30 23:25:59.692 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Create - 200 null text/html; charset=utf-8 42.1495ms
2025-11-30 23:26:12.644 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/Departments/Create - application/x-www-form-urlencoded 216
2025-11-30 23:26:12.650 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Create (LeaveManagement)'
2025-11-30 23:26:12.661 +00:00 [INF] Route matched with {action = "Create", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.Department) on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:26:12.749 +00:00 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (DbType = Int32), @p2='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Departments] ([Description], [ManagerId], [Name])
OUTPUT INSERTED.[DepartmentId]
VALUES (@p0, @p1, @p2);
2025-11-30 23:26:12.756 +00:00 [INF] Executing RedirectResult, redirecting to /Departments/Index.
2025-11-30 23:26:12.760 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Create (LeaveManagement) in 96.6581ms
2025-11-30 23:26:12.765 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Create (LeaveManagement)'
2025-11-30 23:26:12.769 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/Departments/Create - 302 0 null 124.6946ms
2025-11-30 23:26:12.779 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Index - null null
2025-11-30 23:26:12.785 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:26:12.788 +00:00 [INF] Route matched with {action = "Index", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:26:12.796 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
2025-11-30 23:26:12.800 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:26:12.804 +00:00 [INF] Executed ViewResult - view Index executed in 3.5909ms.
2025-11-30 23:26:12.806 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement) in 12.8845ms
2025-11-30 23:26:12.808 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:26:12.810 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Index - 200 null text/html; charset=utf-8 31.2292ms
2025-11-30 23:26:19.226 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Edit/6 - null null
2025-11-30 23:26:19.234 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:26:19.243 +00:00 [INF] Route matched with {action = "Edit", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32) on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:26:19.258 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[DepartmentId] = @p
2025-11-30 23:26:19.264 +00:00 [INF] Executing ViewResult, running view Edit.
2025-11-30 23:26:19.284 +00:00 [INF] Executed ViewResult - view Edit executed in 20.9891ms.
2025-11-30 23:26:19.286 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement) in 39.6045ms
2025-11-30 23:26:19.288 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:26:19.291 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Edit/6 - 200 null text/html; charset=utf-8 64.8422ms
2025-11-30 23:26:21.260 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/Departments/Edit/6 - application/x-www-form-urlencoded 235
2025-11-30 23:26:21.265 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:26:21.273 +00:00 [INF] Route matched with {action = "Edit", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Leave.Core.Models.Department) on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:26:21.282 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[DepartmentId] = @p
2025-11-30 23:26:21.294 +00:00 [INF] Executing ViewResult, running view Edit.
2025-11-30 23:26:21.300 +00:00 [INF] Executed ViewResult - view Edit executed in 6.1707ms.
2025-11-30 23:26:21.302 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement) in 24.2517ms
2025-11-30 23:26:21.306 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:26:21.308 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/Departments/Edit/6 - 200 null text/html; charset=utf-8 47.4097ms
2025-11-30 23:29:07.728 +00:00 [INF] Application is shutting down...
2025-11-30 23:29:19.947 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:29:19.998 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-30 23:29:20.070 +00:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-30 23:29:20.157 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-30 23:29:20.168 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:29:20.173 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-30 23:29:20.210 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-30 23:29:20.228 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-11-30 23:29:20.237 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-30 23:29:20.643 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-30 23:29:20.786 +00:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-30 23:29:20.875 +00:00 [INF] Now listening on: http://localhost:5200
2025-11-30 23:29:20.882 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-30 23:29:20.885 +00:00 [INF] Hosting environment: Development
2025-11-30 23:29:20.887 +00:00 [INF] Content root path: C:\Users\hp\Documents\Projects\Leave Management system\LeaveManagement
2025-11-30 23:29:35.480 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/Departments/Edit/6 - application/x-www-form-urlencoded 235
2025-11-30 23:29:35.489 +00:00 [WRN] Failed to determine the https port for redirect.
2025-11-30 23:29:35.524 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:29:35.556 +00:00 [INF] Route matched with {action = "Edit", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Leave.Core.Models.Department) on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:29:35.619 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:29:35.630 +00:00 [INF] Executing RedirectResult, redirecting to /.
2025-11-30 23:29:35.636 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement) in 75.028ms
2025-11-30 23:29:35.642 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:29:35.651 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/Departments/Edit/6 - 302 0 null 173.4627ms
2025-11-30 23:29:35.662 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:29:35.667 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:29:35.672 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:29:35.750 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:29:35.828 +00:00 [INF] Executed ViewResult - view Login executed in 80.5673ms.
2025-11-30 23:29:35.831 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 156.5946ms
2025-11-30 23:29:35.832 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:29:35.834 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 172.2644ms
2025-11-30 23:29:35.889 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/favicon.ico - null null
2025-11-30 23:29:35.899 +00:00 [INF] The file /favicon.ico was not modified
2025-11-30 23:29:35.902 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/favicon.ico - 304 null image/x-icon 13.2957ms
2025-11-30 23:29:44.211 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 215
2025-11-30 23:29:44.220 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:29:44.230 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:29:44.237 +00:00 [INF] Login attempt for username: admin
2025-11-30 23:29:44.391 +00:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:29:45.114 +00:00 [INF] Login successful: User admin, Role 1
2025-11-30 23:29:45.116 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:29:45.120 +00:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2025-11-30 23:29:45.124 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 890.7569ms
2025-11-30 23:29:45.251 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:29:45.258 +00:00 [INF] Session started; Key:fe076fab-e5c2-9c6a-5b63-a8853950d923, Id:3276b166-e29e-7b3b-f038-1c89b7f3327b
2025-11-30 23:29:45.266 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 302 0 null 1054.9109ms
2025-11-30 23:29:45.306 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:29:45.316 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:29:45.327 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:29:45.367 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:29:45.809 +00:00 [INF] Executed DbCommand (135ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:29:45.873 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:29:45.884 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:29:45.901 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:29:45.925 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:29:45.930 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:29:45.938 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:29:45.948 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:29:45.955 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:29:45.965 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:29:46.120 +00:00 [INF] Executed ViewResult - view Index executed in 156.0741ms.
2025-11-30 23:29:46.123 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 792.6356ms
2025-11-30 23:29:46.126 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:29:46.129 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 822.6306ms
2025-11-30 23:29:50.414 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:29:50.420 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:29:50.429 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:29:50.435 +00:00 [INF] Fetching leave requests for employee 1
2025-11-30 23:29:50.473 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:29:50.480 +00:00 [INF] Retrieved 0 leave requests for employee 1
2025-11-30 23:29:50.485 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:29:50.503 +00:00 [INF] Executed ViewResult - view Index executed in 19.5625ms.
2025-11-30 23:29:50.506 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 74.2228ms
2025-11-30 23:29:50.510 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:29:50.513 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 99.1441ms
2025-11-30 23:29:51.352 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:29:51.356 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:29:51.357 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:29:51.364 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:29:51.374 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:29:51.386 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:29:51.393 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:29:51.401 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:29:51.406 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:29:51.413 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:29:51.419 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:29:51.424 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:29:51.430 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:29:51.434 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:29:51.438 +00:00 [INF] Executed ViewResult - view Index executed in 3.9206ms.
2025-11-30 23:29:51.441 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 79.5935ms
2025-11-30 23:29:51.445 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:29:51.447 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 95.4654ms
2025-11-30 23:29:52.444 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Index - null null
2025-11-30 23:29:52.448 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:29:52.456 +00:00 [INF] Route matched with {action = "Index", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:29:52.463 +00:00 [INF] Fetching all employees
2025-11-30 23:29:52.467 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:29:52.471 +00:00 [INF] Retrieved 6 employees
2025-11-30 23:29:52.474 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:29:52.491 +00:00 [INF] Executed ViewResult - view Index executed in 17.8306ms.
2025-11-30 23:29:52.494 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement) in 33.5008ms
2025-11-30 23:29:52.497 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:29:52.499 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Index - 200 null text/html; charset=utf-8 55.7997ms
2025-11-30 23:29:58.785 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Index - null null
2025-11-30 23:29:58.792 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:29:58.800 +00:00 [INF] Route matched with {action = "Index", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:29:58.940 +00:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
2025-11-30 23:29:58.977 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:29:58.995 +00:00 [INF] Executed ViewResult - view Index executed in 20.2781ms.
2025-11-30 23:29:58.998 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement) in 195.503ms
2025-11-30 23:29:59.001 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:29:59.002 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Index - 200 null text/html; charset=utf-8 216.9227ms
2025-11-30 23:30:00.636 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Edit/1 - null null
2025-11-30 23:30:00.641 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:30:00.650 +00:00 [INF] Route matched with {action = "Edit", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32) on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:30:00.694 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[DepartmentId] = @p
2025-11-30 23:30:00.701 +00:00 [INF] Executing ViewResult, running view Edit.
2025-11-30 23:30:00.737 +00:00 [INF] Executed ViewResult - view Edit executed in 36.7514ms.
2025-11-30 23:30:00.740 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement) in 87.3371ms
2025-11-30 23:30:00.743 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:30:00.746 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Edit/1 - 200 null text/html; charset=utf-8 109.5378ms
2025-11-30 23:30:02.979 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/Departments/Edit/1 - application/x-www-form-urlencoded 244
2025-11-30 23:30:02.984 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:30:02.986 +00:00 [INF] Route matched with {action = "Edit", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Leave.Core.Models.Department) on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:30:03.013 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[DepartmentId] = @p
2025-11-30 23:30:03.169 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (DbType = Int32), @p2='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [Description] = @p0, [ManagerId] = @p1, [Name] = @p2
OUTPUT 1
WHERE [DepartmentId] = @p3;
2025-11-30 23:30:03.190 +00:00 [INF] Executing RedirectResult, redirecting to /Departments/Index.
2025-11-30 23:30:03.193 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement) in 203.8054ms
2025-11-30 23:30:03.196 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:30:03.198 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/Departments/Edit/1 - 302 0 null 219.4355ms
2025-11-30 23:30:03.204 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Index - null null
2025-11-30 23:30:03.207 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:30:03.209 +00:00 [INF] Route matched with {action = "Index", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:30:03.214 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
2025-11-30 23:30:03.217 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:30:03.219 +00:00 [INF] Executed ViewResult - view Index executed in 2.4318ms.
2025-11-30 23:30:03.221 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement) in 8.4295ms
2025-11-30 23:30:03.223 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:30:03.225 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Index - 200 null text/html; charset=utf-8 21.1096ms
2025-11-30 23:30:06.622 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Edit/6 - null null
2025-11-30 23:30:06.626 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:30:06.629 +00:00 [INF] Route matched with {action = "Edit", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32) on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:30:06.638 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[DepartmentId] = @p
2025-11-30 23:30:06.642 +00:00 [INF] Executing ViewResult, running view Edit.
2025-11-30 23:30:06.646 +00:00 [INF] Executed ViewResult - view Edit executed in 4.3857ms.
2025-11-30 23:30:06.648 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement) in 14.7615ms
2025-11-30 23:30:06.650 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:30:06.653 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Edit/6 - 200 null text/html; charset=utf-8 30.7795ms
2025-11-30 23:30:08.394 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/Departments/Edit/6 - application/x-www-form-urlencoded 234
2025-11-30 23:30:08.398 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:30:08.399 +00:00 [INF] Route matched with {action = "Edit", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Leave.Core.Models.Department) on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:30:08.407 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[DepartmentId] = @p
2025-11-30 23:30:08.417 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (DbType = Int32), @p2='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Departments] SET [Description] = @p0, [ManagerId] = @p1, [Name] = @p2
OUTPUT 1
WHERE [DepartmentId] = @p3;
2025-11-30 23:30:08.420 +00:00 [INF] Executing RedirectResult, redirecting to /Departments/Index.
2025-11-30 23:30:08.423 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement) in 20.4464ms
2025-11-30 23:30:08.426 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Edit (LeaveManagement)'
2025-11-30 23:30:08.429 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/Departments/Edit/6 - 302 0 null 34.6465ms
2025-11-30 23:30:08.433 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Index - null null
2025-11-30 23:30:08.436 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:30:08.438 +00:00 [INF] Route matched with {action = "Index", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:30:08.445 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
2025-11-30 23:30:08.448 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:30:08.452 +00:00 [INF] Executed ViewResult - view Index executed in 3.3018ms.
2025-11-30 23:30:08.453 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement) in 13.1906ms
2025-11-30 23:30:08.456 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:30:08.459 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Index - 200 null text/html; charset=utf-8 25.7955ms
2025-11-30 23:30:12.579 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Delete/6 - null null
2025-11-30 23:30:12.585 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Delete (LeaveManagement)'
2025-11-30 23:30:12.593 +00:00 [INF] Route matched with {action = "Delete", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:30:12.603 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
WHERE [d].[DepartmentId] = @p
2025-11-30 23:30:12.630 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Departments]
OUTPUT 1
WHERE [DepartmentId] = @p0;
2025-11-30 23:30:12.637 +00:00 [INF] Executing RedirectResult, redirecting to /Departments/Index.
2025-11-30 23:30:12.640 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Delete (LeaveManagement) in 42.7061ms
2025-11-30 23:30:12.643 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Delete (LeaveManagement)'
2025-11-30 23:30:12.645 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Delete/6 - 302 0 null 65.4036ms
2025-11-30 23:30:12.649 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Index - null null
2025-11-30 23:30:12.652 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:30:12.654 +00:00 [INF] Route matched with {action = "Index", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:30:12.661 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
2025-11-30 23:30:12.665 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:30:12.667 +00:00 [INF] Executed ViewResult - view Index executed in 2.3359ms.
2025-11-30 23:30:12.670 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement) in 13.7978ms
2025-11-30 23:30:12.671 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:30:12.674 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Index - 200 null text/html; charset=utf-8 24.719ms
2025-11-30 23:30:15.044 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Create - null null
2025-11-30 23:30:15.048 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Create (LeaveManagement)'
2025-11-30 23:30:15.050 +00:00 [INF] Route matched with {action = "Create", controller = "Departments"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:30:15.055 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:30:15.071 +00:00 [INF] Executed ViewResult - view Create executed in 17.0436ms.
2025-11-30 23:30:15.073 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Create (LeaveManagement) in 20.1738ms
2025-11-30 23:30:15.076 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Create (LeaveManagement)'
2025-11-30 23:30:15.078 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Create - 200 null text/html; charset=utf-8 34.2069ms
2025-11-30 23:30:16.256 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Departments/Index - null null
2025-11-30 23:30:16.261 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:30:16.264 +00:00 [INF] Route matched with {action = "Index", controller = "Departments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DepartmentsController (LeaveManagement).
2025-11-30 23:30:16.269 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[DepartmentId], [d].[Description], [d].[ManagerId], [d].[Name]
FROM [Departments] AS [d]
2025-11-30 23:30:16.273 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:30:16.277 +00:00 [INF] Executed ViewResult - view Index executed in 3.6815ms.
2025-11-30 23:30:16.278 +00:00 [INF] Executed action LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement) in 11.9554ms
2025-11-30 23:30:16.281 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DepartmentsController.Index (LeaveManagement)'
2025-11-30 23:30:16.284 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Departments/Index - 200 null text/html; charset=utf-8 28.3616ms
2025-11-30 23:30:18.683 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Holidays/Index - null null
2025-11-30 23:30:18.688 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.HolidaysController.Index (LeaveManagement)'
2025-11-30 23:30:18.699 +00:00 [INF] Route matched with {action = "Index", controller = "Holidays"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.HolidaysController (LeaveManagement).
2025-11-30 23:30:18.715 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:30:18.731 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:30:18.754 +00:00 [INF] Executed ViewResult - view Index executed in 24.3265ms.
2025-11-30 23:30:18.758 +00:00 [INF] Executed action LeaveManagement.Controllers.HolidaysController.Index (LeaveManagement) in 56.7478ms
2025-11-30 23:30:18.763 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.HolidaysController.Index (LeaveManagement)'
2025-11-30 23:30:18.765 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Holidays/Index - 200 null text/html; charset=utf-8 81.4238ms
2025-11-30 23:30:24.478 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Holidays/Edit/1 - null null
2025-11-30 23:30:24.482 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.HolidaysController.Edit (LeaveManagement)'
2025-11-30 23:30:24.491 +00:00 [INF] Route matched with {action = "Edit", controller = "Holidays"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32) on controller LeaveManagement.Controllers.HolidaysController (LeaveManagement).
2025-11-30 23:30:24.535 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
WHERE [h].[HolidayId] = @p
2025-11-30 23:30:24.543 +00:00 [INF] Executing ViewResult, running view Edit.
2025-11-30 23:30:24.577 +00:00 [INF] Executed ViewResult - view Edit executed in 35.0411ms.
2025-11-30 23:30:24.581 +00:00 [INF] Executed action LeaveManagement.Controllers.HolidaysController.Edit (LeaveManagement) in 86.5415ms
2025-11-30 23:30:24.584 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.HolidaysController.Edit (LeaveManagement)'
2025-11-30 23:30:24.586 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Holidays/Edit/1 - 200 null text/html; charset=utf-8 108.2374ms
2025-11-30 23:30:28.024 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/Holidays/Edit/1 - application/x-www-form-urlencoded 308
2025-11-30 23:30:28.030 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.HolidaysController.Edit (LeaveManagement)'
2025-11-30 23:30:28.037 +00:00 [INF] Route matched with {action = "Edit", controller = "Holidays"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Leave.Core.Models.Holiday) on controller LeaveManagement.Controllers.HolidaysController (LeaveManagement).
2025-11-30 23:30:28.050 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
WHERE [h].[HolidayId] = @p
2025-11-30 23:30:28.118 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (DbType = Boolean), @p3='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Holidays] SET [Date] = @p0, [Description] = @p1, [IsRecurring] = @p2, [Name] = @p3
OUTPUT 1
WHERE [HolidayId] = @p4;
2025-11-30 23:30:28.127 +00:00 [INF] Executing RedirectResult, redirecting to /Holidays/Index.
2025-11-30 23:30:28.131 +00:00 [INF] Executed action LeaveManagement.Controllers.HolidaysController.Edit (LeaveManagement) in 90.5139ms
2025-11-30 23:30:28.134 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.HolidaysController.Edit (LeaveManagement)'
2025-11-30 23:30:28.137 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/Holidays/Edit/1 - 302 0 null 113.1149ms
2025-11-30 23:30:28.147 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Holidays/Index - null null
2025-11-30 23:30:28.151 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.HolidaysController.Index (LeaveManagement)'
2025-11-30 23:30:28.153 +00:00 [INF] Route matched with {action = "Index", controller = "Holidays"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.HolidaysController (LeaveManagement).
2025-11-30 23:30:28.161 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:30:28.165 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:30:28.169 +00:00 [INF] Executed ViewResult - view Index executed in 3.711ms.
2025-11-30 23:30:28.171 +00:00 [INF] Executed action LeaveManagement.Controllers.HolidaysController.Index (LeaveManagement) in 14.7439ms
2025-11-30 23:30:28.175 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.HolidaysController.Index (LeaveManagement)'
2025-11-30 23:30:28.178 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Holidays/Index - 200 null text/html; charset=utf-8 30.8031ms
2025-11-30 23:30:31.079 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Holidays/Create - null null
2025-11-30 23:30:31.083 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.HolidaysController.Create (LeaveManagement)'
2025-11-30 23:30:31.087 +00:00 [INF] Route matched with {action = "Create", controller = "Holidays"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller LeaveManagement.Controllers.HolidaysController (LeaveManagement).
2025-11-30 23:30:31.093 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:30:31.116 +00:00 [INF] Executed ViewResult - view Create executed in 23.5485ms.
2025-11-30 23:30:31.118 +00:00 [INF] Executed action LeaveManagement.Controllers.HolidaysController.Create (LeaveManagement) in 27.2417ms
2025-11-30 23:30:31.120 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.HolidaysController.Create (LeaveManagement)'
2025-11-30 23:30:31.121 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Holidays/Create - 200 null text/html; charset=utf-8 42.5541ms
2025-11-30 23:30:38.137 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/Holidays/Create - application/x-www-form-urlencoded 286
2025-11-30 23:30:38.142 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.HolidaysController.Create (LeaveManagement)'
2025-11-30 23:30:38.151 +00:00 [INF] Route matched with {action = "Create", controller = "Holidays"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.Holiday) on controller LeaveManagement.Controllers.HolidaysController (LeaveManagement).
2025-11-30 23:30:38.282 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 500), @p2='?' (DbType = Boolean), @p3='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Holidays] ([Date], [Description], [IsRecurring], [Name])
OUTPUT INSERTED.[HolidayId]
VALUES (@p0, @p1, @p2, @p3);
2025-11-30 23:30:38.304 +00:00 [INF] Executing RedirectResult, redirecting to /Holidays/Index.
2025-11-30 23:30:38.306 +00:00 [INF] Executed action LeaveManagement.Controllers.HolidaysController.Create (LeaveManagement) in 151.8455ms
2025-11-30 23:30:38.310 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.HolidaysController.Create (LeaveManagement)'
2025-11-30 23:30:38.313 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/Holidays/Create - 302 0 null 175.6669ms
2025-11-30 23:30:38.317 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Holidays/Index - null null
2025-11-30 23:30:38.319 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.HolidaysController.Index (LeaveManagement)'
2025-11-30 23:30:38.321 +00:00 [INF] Route matched with {action = "Index", controller = "Holidays"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.HolidaysController (LeaveManagement).
2025-11-30 23:30:38.326 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:30:38.330 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:30:38.332 +00:00 [INF] Executed ViewResult - view Index executed in 2.0014ms.
2025-11-30 23:30:38.334 +00:00 [INF] Executed action LeaveManagement.Controllers.HolidaysController.Index (LeaveManagement) in 10.7552ms
2025-11-30 23:30:38.336 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.HolidaysController.Index (LeaveManagement)'
2025-11-30 23:30:38.338 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Holidays/Index - 200 null text/html; charset=utf-8 20.9591ms
2025-11-30 23:30:43.997 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Holidays/Delete/4 - null null
2025-11-30 23:30:44.002 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.HolidaysController.Delete (LeaveManagement)'
2025-11-30 23:30:44.011 +00:00 [INF] Route matched with {action = "Delete", controller = "Holidays"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller LeaveManagement.Controllers.HolidaysController (LeaveManagement).
2025-11-30 23:30:44.019 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
WHERE [h].[HolidayId] = @p
2025-11-30 23:30:44.027 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Holidays]
OUTPUT 1
WHERE [HolidayId] = @p0;
2025-11-30 23:30:44.035 +00:00 [INF] Executing RedirectResult, redirecting to /Holidays/Index.
2025-11-30 23:30:44.037 +00:00 [INF] Executed action LeaveManagement.Controllers.HolidaysController.Delete (LeaveManagement) in 23.9077ms
2025-11-30 23:30:44.040 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.HolidaysController.Delete (LeaveManagement)'
2025-11-30 23:30:44.042 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Holidays/Delete/4 - 302 0 null 45.5145ms
2025-11-30 23:30:44.047 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Holidays/Index - null null
2025-11-30 23:30:44.050 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.HolidaysController.Index (LeaveManagement)'
2025-11-30 23:30:44.051 +00:00 [INF] Route matched with {action = "Index", controller = "Holidays"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.HolidaysController (LeaveManagement).
2025-11-30 23:30:44.054 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:30:44.059 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:30:44.061 +00:00 [INF] Executed ViewResult - view Index executed in 2.3603ms.
2025-11-30 23:30:44.063 +00:00 [INF] Executed action LeaveManagement.Controllers.HolidaysController.Index (LeaveManagement) in 9.4088ms
2025-11-30 23:30:44.064 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.HolidaysController.Index (LeaveManagement)'
2025-11-30 23:30:44.067 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Holidays/Index - 200 null text/html; charset=utf-8 19.3157ms
2025-11-30 23:30:52.137 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveTypes/Index - null null
2025-11-30 23:30:52.143 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement)'
2025-11-30 23:30:52.151 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveTypesController (LeaveManagement).
2025-11-30 23:30:52.163 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:30:52.181 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:30:52.200 +00:00 [INF] Executed ViewResult - view Index executed in 19.4636ms.
2025-11-30 23:30:52.203 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement) in 50.2112ms
2025-11-30 23:30:52.206 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement)'
2025-11-30 23:30:52.210 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveTypes/Index - 200 null text/html; charset=utf-8 72.4923ms
2025-11-30 23:30:53.897 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveTypes/Edit/1 - null null
2025-11-30 23:30:53.901 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveTypesController.Edit (LeaveManagement)'
2025-11-30 23:30:53.909 +00:00 [INF] Route matched with {action = "Edit", controller = "LeaveTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32) on controller LeaveManagement.Controllers.LeaveTypesController (LeaveManagement).
2025-11-30 23:30:53.922 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
WHERE [l].[LeaveTypeId] = @p
2025-11-30 23:30:53.927 +00:00 [INF] Executing ViewResult, running view Edit.
2025-11-30 23:30:53.951 +00:00 [INF] Executed ViewResult - view Edit executed in 24.5729ms.
2025-11-30 23:30:53.953 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveTypesController.Edit (LeaveManagement) in 41.4365ms
2025-11-30 23:30:53.957 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveTypesController.Edit (LeaveManagement)'
2025-11-30 23:30:53.959 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveTypes/Edit/1 - 200 null text/html; charset=utf-8 62.7354ms
2025-11-30 23:30:55.952 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveTypes/Edit/1 - application/x-www-form-urlencoded 364
2025-11-30 23:30:55.957 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveTypesController.Edit (LeaveManagement)'
2025-11-30 23:30:55.965 +00:00 [INF] Route matched with {action = "Edit", controller = "LeaveTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Leave.Core.Models.LeaveType) on controller LeaveManagement.Controllers.LeaveTypesController (LeaveManagement).
2025-11-30 23:30:55.984 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [LeaveTypes] SET [Description] = @p0, [IsPaid] = @p1, [MaxDaysPerYear] = @p2, [Name] = @p3, [RequiresApproval] = @p4
OUTPUT 1
WHERE [LeaveTypeId] = @p5;
2025-11-30 23:30:55.988 +00:00 [INF] Executing RedirectResult, redirecting to /LeaveTypes/Index.
2025-11-30 23:30:55.991 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveTypesController.Edit (LeaveManagement) in 22.3908ms
2025-11-30 23:30:55.993 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveTypesController.Edit (LeaveManagement)'
2025-11-30 23:30:55.995 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveTypes/Edit/1 - 302 0 null 42.3926ms
2025-11-30 23:30:55.999 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveTypes/Index - null null
2025-11-30 23:30:56.001 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement)'
2025-11-30 23:30:56.003 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveTypesController (LeaveManagement).
2025-11-30 23:30:56.007 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:30:56.010 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:30:56.013 +00:00 [INF] Executed ViewResult - view Index executed in 2.9586ms.
2025-11-30 23:30:56.015 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement) in 8.8564ms
2025-11-30 23:30:56.017 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement)'
2025-11-30 23:30:56.018 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveTypes/Index - 200 null text/html; charset=utf-8 19.7713ms
2025-11-30 23:31:00.807 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveTypes/Edit/1 - null null
2025-11-30 23:31:00.811 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveTypesController.Edit (LeaveManagement)'
2025-11-30 23:31:00.813 +00:00 [INF] Route matched with {action = "Edit", controller = "LeaveTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Int32) on controller LeaveManagement.Controllers.LeaveTypesController (LeaveManagement).
2025-11-30 23:31:00.818 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
WHERE [l].[LeaveTypeId] = @p
2025-11-30 23:31:00.825 +00:00 [INF] Executing ViewResult, running view Edit.
2025-11-30 23:31:00.829 +00:00 [INF] Executed ViewResult - view Edit executed in 3.9038ms.
2025-11-30 23:31:00.831 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveTypesController.Edit (LeaveManagement) in 14.9036ms
2025-11-30 23:31:00.833 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveTypesController.Edit (LeaveManagement)'
2025-11-30 23:31:00.835 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveTypes/Edit/1 - 200 null text/html; charset=utf-8 27.2275ms
2025-11-30 23:31:07.103 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveTypes/Edit/1 - application/x-www-form-urlencoded 362
2025-11-30 23:31:07.109 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveTypesController.Edit (LeaveManagement)'
2025-11-30 23:31:07.111 +00:00 [INF] Route matched with {action = "Edit", controller = "LeaveTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Edit(Leave.Core.Models.LeaveType) on controller LeaveManagement.Controllers.LeaveTypesController (LeaveManagement).
2025-11-30 23:31:07.124 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [LeaveTypes] SET [Description] = @p0, [IsPaid] = @p1, [MaxDaysPerYear] = @p2, [Name] = @p3, [RequiresApproval] = @p4
OUTPUT 1
WHERE [LeaveTypeId] = @p5;
2025-11-30 23:31:07.128 +00:00 [INF] Executing RedirectResult, redirecting to /LeaveTypes/Index.
2025-11-30 23:31:07.130 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveTypesController.Edit (LeaveManagement) in 15.3973ms
2025-11-30 23:31:07.131 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveTypesController.Edit (LeaveManagement)'
2025-11-30 23:31:07.133 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveTypes/Edit/1 - 302 0 null 29.8857ms
2025-11-30 23:31:07.138 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveTypes/Index - null null
2025-11-30 23:31:07.144 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement)'
2025-11-30 23:31:07.145 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveTypesController (LeaveManagement).
2025-11-30 23:31:07.151 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:31:07.155 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:31:07.158 +00:00 [INF] Executed ViewResult - view Index executed in 3.5266ms.
2025-11-30 23:31:07.160 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement) in 12.1243ms
2025-11-30 23:31:07.162 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement)'
2025-11-30 23:31:07.164 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveTypes/Index - 200 null text/html; charset=utf-8 25.3155ms
2025-11-30 23:31:14.087 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveTypes/Create - null null
2025-11-30 23:31:14.091 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveTypesController.Create (LeaveManagement)'
2025-11-30 23:31:14.094 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveTypes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Create() on controller LeaveManagement.Controllers.LeaveTypesController (LeaveManagement).
2025-11-30 23:31:14.098 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:31:14.114 +00:00 [INF] Executed ViewResult - view Create executed in 17.2022ms.
2025-11-30 23:31:14.115 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveTypesController.Create (LeaveManagement) in 19.6272ms
2025-11-30 23:31:14.117 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveTypesController.Create (LeaveManagement)'
2025-11-30 23:31:14.119 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveTypes/Create - 200 null text/html; charset=utf-8 31.4304ms
2025-11-30 23:31:22.270 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveTypes/Create - application/x-www-form-urlencoded 325
2025-11-30 23:31:22.282 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveTypesController.Create (LeaveManagement)'
2025-11-30 23:31:22.292 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveType) on controller LeaveManagement.Controllers.LeaveTypesController (LeaveManagement).
2025-11-30 23:31:22.313 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (DbType = Int32), @p2='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveTypes] ([Description], [MaxDaysPerYear], [Name])
OUTPUT INSERTED.[LeaveTypeId], INSERTED.[IsPaid], INSERTED.[RequiresApproval]
VALUES (@p0, @p1, @p2);
2025-11-30 23:31:22.324 +00:00 [INF] Executing RedirectResult, redirecting to /LeaveTypes/Index.
2025-11-30 23:31:22.325 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveTypesController.Create (LeaveManagement) in 29.554ms
2025-11-30 23:31:22.327 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveTypesController.Create (LeaveManagement)'
2025-11-30 23:31:22.329 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveTypes/Create - 302 0 null 58.9512ms
2025-11-30 23:31:22.334 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveTypes/Index - null null
2025-11-30 23:31:22.339 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement)'
2025-11-30 23:31:22.340 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveTypesController (LeaveManagement).
2025-11-30 23:31:22.344 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:31:22.347 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:31:22.350 +00:00 [INF] Executed ViewResult - view Index executed in 2.2754ms.
2025-11-30 23:31:22.351 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement) in 9.111ms
2025-11-30 23:31:22.354 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement)'
2025-11-30 23:31:22.356 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveTypes/Index - 200 null text/html; charset=utf-8 22.0811ms
2025-11-30 23:31:25.838 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveTypes/Delete/6 - null null
2025-11-30 23:31:25.842 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveTypesController.Delete (LeaveManagement)'
2025-11-30 23:31:25.853 +00:00 [INF] Route matched with {action = "Delete", controller = "LeaveTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(Int32) on controller LeaveManagement.Controllers.LeaveTypesController (LeaveManagement).
2025-11-30 23:31:25.861 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
WHERE [l].[LeaveTypeId] = @p
2025-11-30 23:31:25.888 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [LeaveTypes]
OUTPUT 1
WHERE [LeaveTypeId] = @p0;
2025-11-30 23:31:25.892 +00:00 [INF] Executing RedirectResult, redirecting to /LeaveTypes/Index.
2025-11-30 23:31:25.894 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveTypesController.Delete (LeaveManagement) in 36.2837ms
2025-11-30 23:31:25.896 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveTypesController.Delete (LeaveManagement)'
2025-11-30 23:31:25.897 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveTypes/Delete/6 - 302 0 null 59.2594ms
2025-11-30 23:31:25.903 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveTypes/Index - null null
2025-11-30 23:31:25.907 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement)'
2025-11-30 23:31:25.909 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveTypes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveTypesController (LeaveManagement).
2025-11-30 23:31:25.912 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:31:25.915 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:31:25.917 +00:00 [INF] Executed ViewResult - view Index executed in 2.0186ms.
2025-11-30 23:31:25.920 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement) in 9.879ms
2025-11-30 23:31:25.922 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveTypesController.Index (LeaveManagement)'
2025-11-30 23:31:25.924 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveTypes/Index - 200 null text/html; charset=utf-8 20.576ms
2025-11-30 23:31:30.115 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Index - null null
2025-11-30 23:31:30.119 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:31:30.121 +00:00 [INF] Route matched with {action = "Index", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:31:30.124 +00:00 [INF] Fetching all employees
2025-11-30 23:31:30.163 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:31:30.167 +00:00 [INF] Retrieved 6 employees
2025-11-30 23:31:30.169 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:31:30.173 +00:00 [INF] Executed ViewResult - view Index executed in 3.8468ms.
2025-11-30 23:31:30.175 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement) in 51.8132ms
2025-11-30 23:31:30.177 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:31:30.179 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Index - 200 null text/html; charset=utf-8 63.737ms
2025-11-30 23:31:30.975 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Approvals/Index - null null
2025-11-30 23:31:30.979 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.ApprovalsController.Index (LeaveManagement)'
2025-11-30 23:31:30.989 +00:00 [INF] Route matched with {action = "Index", controller = "Approvals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.ApprovalsController (LeaveManagement).
2025-11-30 23:31:30.995 +00:00 [INF] Fetching pending requests for manager 1
2025-11-30 23:31:31.037 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@managerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [e].[ManagerId] = @managerId AND [l].[Status] = N'Pending'
ORDER BY [l].[RequestDate]
2025-11-30 23:31:31.042 +00:00 [INF] Retrieved 0 pending requests for manager 1
2025-11-30 23:31:31.044 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:31:31.058 +00:00 [INF] Executed ViewResult - view Index executed in 14.8963ms.
2025-11-30 23:31:31.059 +00:00 [INF] Executed action LeaveManagement.Controllers.ApprovalsController.Index (LeaveManagement) in 67.2012ms
2025-11-30 23:31:31.062 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.ApprovalsController.Index (LeaveManagement)'
2025-11-30 23:31:31.064 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Approvals/Index - 200 null text/html; charset=utf-8 88.7531ms
2025-11-30 23:31:31.899 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:31:31.905 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:31:31.907 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:31:31.915 +00:00 [INF] Fetching leave requests for employee 1
2025-11-30 23:31:31.962 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:31:32.065 +00:00 [INF] Retrieved 0 leave requests for employee 1
2025-11-30 23:31:32.067 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:31:32.071 +00:00 [INF] Executed ViewResult - view Index executed in 4.2931ms.
2025-11-30 23:31:32.074 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 164.1146ms
2025-11-30 23:31:32.076 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:31:32.078 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 178.9494ms
2025-11-30 23:31:33.135 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:31:33.141 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:31:33.143 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:31:33.148 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:31:33.218 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:31:33.235 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:31:33.243 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:31:33.251 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:31:33.257 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:31:33.261 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:31:33.269 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:31:33.274 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:31:33.281 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:31:33.286 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:31:33.289 +00:00 [INF] Executed ViewResult - view Index executed in 3.0128ms.
2025-11-30 23:31:33.292 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 145.7513ms
2025-11-30 23:31:33.294 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:31:33.296 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 160.8107ms
2025-11-30 23:31:34.120 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:31:34.125 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:31:34.127 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:31:34.131 +00:00 [INF] Fetching leave requests for employee 1
2025-11-30 23:31:34.134 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:31:34.139 +00:00 [INF] Retrieved 0 leave requests for employee 1
2025-11-30 23:31:34.141 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:31:34.145 +00:00 [INF] Executed ViewResult - view Index executed in 3.8127ms.
2025-11-30 23:31:34.147 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 16.2636ms
2025-11-30 23:31:34.149 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:31:34.150 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 29.6135ms
2025-11-30 23:31:34.828 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:31:34.831 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:31:34.840 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:31:34.845 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:31:34.850 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:31:34.880 +00:00 [INF] Executed ViewResult - view Create executed in 30.0483ms.
2025-11-30 23:31:34.881 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 38.7757ms
2025-11-30 23:31:34.883 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:31:34.887 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 58.8399ms
2025-11-30 23:31:41.297 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 291
2025-11-30 23:31:41.304 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:31:41.315 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:31:41.324 +00:00 [INF] Submitting leave request for employee 1 from "2025-12-26T00:00:00.0000000" to "2026-01-01T00:00:00.0000000"
2025-11-30 23:31:41.328 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:31:41.335 +00:00 [INF] Calculated 5 leave days (excluding weekends/holidays)
2025-11-30 23:31:41.347 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:31:41.447 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:31:41.500 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :4e9bec2e-1fe6-487a-9d2e-f191ca043d3f
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :4e9bec2e-1fe6-487a-9d2e-f191ca043d3f
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:31:41.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:31:41.548 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:31:41.557 +00:00 [INF] Executed ViewResult - view Create executed in 8.4268ms.
2025-11-30 23:31:41.559 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 240.9813ms
2025-11-30 23:31:41.562 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:31:41.564 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 266.7789ms
2025-11-30 23:31:45.132 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:31:45.137 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:31:45.139 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:31:45.143 +00:00 [INF] Fetching leave requests for employee 1
2025-11-30 23:31:45.146 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:31:45.150 +00:00 [INF] Retrieved 0 leave requests for employee 1
2025-11-30 23:31:45.153 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:31:45.155 +00:00 [INF] Executed ViewResult - view Index executed in 2.5771ms.
2025-11-30 23:31:45.157 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 14.9452ms
2025-11-30 23:31:45.159 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:31:45.160 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 28.6213ms
2025-11-30 23:31:47.321 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:31:47.328 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:31:47.329 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:31:47.332 +00:00 [INF] Fetching leave requests for employee 1
2025-11-30 23:31:47.335 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:31:47.340 +00:00 [INF] Retrieved 0 leave requests for employee 1
2025-11-30 23:31:47.342 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:31:47.345 +00:00 [INF] Executed ViewResult - view Index executed in 2.1077ms.
2025-11-30 23:31:47.347 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 15.173ms
2025-11-30 23:31:47.350 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:31:47.353 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 31.9843ms
2025-11-30 23:31:49.392 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:31:49.397 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:31:49.401 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:31:49.408 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:31:49.412 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:31:49.418 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:31:49.425 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:31:49.429 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:31:49.436 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:31:49.440 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:31:49.445 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:31:49.452 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:31:49.458 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:31:49.463 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:31:49.465 +00:00 [INF] Executed ViewResult - view Index executed in 2.521ms.
2025-11-30 23:31:49.468 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 60.8127ms
2025-11-30 23:31:49.471 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:31:49.474 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 81.9792ms
2025-11-30 23:31:52.127 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Account/Logout - null null
2025-11-30 23:31:52.131 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Logout (LeaveManagement)'
2025-11-30 23:31:52.137 +00:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:31:52.143 +00:00 [INF] Executing RedirectResult, redirecting to /.
2025-11-30 23:31:52.145 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Logout (LeaveManagement) in 5.3618ms
2025-11-30 23:31:52.149 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Logout (LeaveManagement)'
2025-11-30 23:31:52.152 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Account/Logout - 302 0 null 25.6778ms
2025-11-30 23:31:52.158 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:31:52.163 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:31:52.165 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:31:52.170 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:31:52.173 +00:00 [INF] Executed ViewResult - view Login executed in 2.4791ms.
2025-11-30 23:31:52.175 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 5.3068ms
2025-11-30 23:31:52.178 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:31:52.180 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 21.5663ms
2025-11-30 23:32:05.584 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 218
2025-11-30 23:32:05.589 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:32:05.590 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:32:05.595 +00:00 [INF] Login attempt for username: employee
2025-11-30 23:32:05.600 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:32:05.837 +00:00 [INF] Login successful: User employee, Role 3
2025-11-30 23:32:05.839 +00:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2025-11-30 23:32:05.841 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 247.6139ms
2025-11-30 23:32:05.843 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:32:05.846 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 302 0 null 261.7609ms
2025-11-30 23:32:05.852 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:32:05.857 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:32:05.859 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:32:05.864 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:32:05.870 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:32:05.876 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:32:05.884 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:32:05.890 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:32:05.895 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:32:05.902 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:32:05.907 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:32:05.912 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:32:05.980 +00:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:32:05.986 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:32:05.989 +00:00 [INF] Executed ViewResult - view Index executed in 3.438ms.
2025-11-30 23:32:05.992 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 130.1372ms
2025-11-30 23:32:05.995 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:32:05.997 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 144.7939ms
2025-11-30 23:32:09.186 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:32:09.192 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:32:09.194 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:32:09.196 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:32:09.198 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:32:09.203 +00:00 [INF] Retrieved 0 leave requests for employee 3
2025-11-30 23:32:09.204 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:32:09.206 +00:00 [INF] Executed ViewResult - view Index executed in 2.3485ms.
2025-11-30 23:32:09.208 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 12.6519ms
2025-11-30 23:32:09.210 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:32:09.212 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 25.5227ms
2025-11-30 23:32:10.500 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:32:10.504 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:32:10.505 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:32:10.508 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:32:10.511 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:32:10.514 +00:00 [INF] Executed ViewResult - view Create executed in 2.6524ms.
2025-11-30 23:32:10.516 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 8.0873ms
2025-11-30 23:32:10.518 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:32:10.519 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 19.2683ms
2025-11-30 23:32:21.585 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 291
2025-11-30 23:32:21.592 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:32:21.594 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:32:21.599 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-09T00:00:00.0000000" to "2026-01-09T00:00:00.0000000"
2025-11-30 23:32:21.612 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:32:21.617 +00:00 [INF] Calculated 1 leave days (excluding weekends/holidays)
2025-11-30 23:32:21.622 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:32:21.633 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:32:21.640 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :4e9bec2e-1fe6-487a-9d2e-f191ca043d3f
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :4e9bec2e-1fe6-487a-9d2e-f191ca043d3f
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:32:21.664 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:32:21.669 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:32:21.671 +00:00 [INF] Executed ViewResult - view Create executed in 2.1097ms.
2025-11-30 23:32:21.673 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 76.4474ms
2025-11-30 23:32:21.675 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:32:21.677 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 91.6876ms
2025-11-30 23:32:44.981 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 291
2025-11-30 23:32:44.987 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:32:44.989 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:32:44.991 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-09T00:00:00.0000000" to "2026-01-17T00:00:00.0000000"
2025-11-30 23:32:44.995 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:32:44.998 +00:00 [INF] Calculated 6 leave days (excluding weekends/holidays)
2025-11-30 23:32:45.000 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:32:45.008 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:32:45.013 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :4e9bec2e-1fe6-487a-9d2e-f191ca043d3f
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :4e9bec2e-1fe6-487a-9d2e-f191ca043d3f
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:32:45.039 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:32:45.044 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:32:45.046 +00:00 [INF] Executed ViewResult - view Create executed in 2.5162ms.
2025-11-30 23:32:45.049 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 58.5586ms
2025-11-30 23:32:45.052 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:32:45.054 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 73.0598ms
2025-11-30 23:32:48.760 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:32:48.764 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:32:48.766 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:32:48.770 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:32:48.777 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:32:48.781 +00:00 [INF] Retrieved 0 leave requests for employee 3
2025-11-30 23:32:48.783 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:32:48.785 +00:00 [INF] Executed ViewResult - view Index executed in 2.0149ms.
2025-11-30 23:32:48.787 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 17.6776ms
2025-11-30 23:32:48.788 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:32:48.790 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 29.7227ms
2025-11-30 23:32:51.490 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:32:51.494 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:32:51.495 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:32:51.501 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:32:51.510 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:32:51.520 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:32:51.524 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:32:51.529 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:32:51.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:32:51.537 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:32:51.540 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:32:51.544 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:32:51.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:32:51.553 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:32:51.555 +00:00 [INF] Executed ViewResult - view Index executed in 1.6806ms.
2025-11-30 23:32:51.557 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 58.9467ms
2025-11-30 23:32:51.559 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:32:51.561 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 70.3923ms
2025-11-30 23:33:20.353 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Account/Logout - null null
2025-11-30 23:33:20.359 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Logout (LeaveManagement)'
2025-11-30 23:33:20.361 +00:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:33:20.365 +00:00 [INF] Executing RedirectResult, redirecting to /.
2025-11-30 23:33:20.366 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Logout (LeaveManagement) in 2.0328ms
2025-11-30 23:33:20.367 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Logout (LeaveManagement)'
2025-11-30 23:33:20.369 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Account/Logout - 302 0 null 16.2234ms
2025-11-30 23:33:20.373 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:33:20.376 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:33:20.377 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:33:20.382 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:33:20.384 +00:00 [INF] Executed ViewResult - view Login executed in 1.7307ms.
2025-11-30 23:33:20.386 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 4.6834ms
2025-11-30 23:33:20.388 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:33:20.390 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 17.0944ms
2025-11-30 23:33:32.476 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 217
2025-11-30 23:33:32.482 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:33:32.485 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:33:32.488 +00:00 [INF] Login attempt for username: manager
2025-11-30 23:33:32.492 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:33:32.761 +00:00 [INF] Login successful: User manager, Role 2
2025-11-30 23:33:32.764 +00:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2025-11-30 23:33:32.765 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 277.1329ms
2025-11-30 23:33:32.767 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:33:32.768 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 302 0 null 291.7064ms
2025-11-30 23:33:32.772 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:33:32.775 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:33:32.777 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:33:32.781 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:33:32.795 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:33:32.811 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:33:32.817 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:33:32.824 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:33:32.829 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:33:32.833 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:33:32.836 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:33:32.839 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:33:32.843 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:33:32.848 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:33:32.849 +00:00 [INF] Executed ViewResult - view Index executed in 1.8476ms.
2025-11-30 23:33:32.852 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 72.6179ms
2025-11-30 23:33:32.854 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:33:32.855 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 83.4605ms
2025-11-30 23:33:37.177 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Employees/Index - null null
2025-11-30 23:33:37.182 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:33:37.184 +00:00 [INF] Route matched with {action = "Index", controller = "Employees"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.EmployeesController (LeaveManagement).
2025-11-30 23:33:37.191 +00:00 [INF] Fetching all employees
2025-11-30 23:33:37.194 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:33:37.197 +00:00 [INF] Retrieved 6 employees
2025-11-30 23:33:37.198 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:33:37.201 +00:00 [INF] Executed ViewResult - view Index executed in 2.3759ms.
2025-11-30 23:33:37.202 +00:00 [INF] Executed action LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement) in 13.6836ms
2025-11-30 23:33:37.204 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.EmployeesController.Index (LeaveManagement)'
2025-11-30 23:33:37.206 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Employees/Index - 200 null text/html; charset=utf-8 28.318ms
2025-11-30 23:33:40.062 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Approvals/Index - null null
2025-11-30 23:33:40.067 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.ApprovalsController.Index (LeaveManagement)'
2025-11-30 23:33:40.068 +00:00 [INF] Route matched with {action = "Index", controller = "Approvals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.ApprovalsController (LeaveManagement).
2025-11-30 23:33:40.071 +00:00 [INF] Fetching pending requests for manager 2
2025-11-30 23:33:40.079 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@managerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [e].[ManagerId] = @managerId AND [l].[Status] = N'Pending'
ORDER BY [l].[RequestDate]
2025-11-30 23:33:40.082 +00:00 [INF] Retrieved 0 pending requests for manager 2
2025-11-30 23:33:40.084 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:33:40.086 +00:00 [INF] Executed ViewResult - view Index executed in 1.6813ms.
2025-11-30 23:33:40.088 +00:00 [INF] Executed action LeaveManagement.Controllers.ApprovalsController.Index (LeaveManagement) in 16.5808ms
2025-11-30 23:33:40.090 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.ApprovalsController.Index (LeaveManagement)'
2025-11-30 23:33:40.091 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Approvals/Index - 200 null text/html; charset=utf-8 28.8065ms
2025-11-30 23:33:41.295 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:33:41.300 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:33:41.302 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:33:41.304 +00:00 [INF] Fetching leave requests for employee 2
2025-11-30 23:33:41.310 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:33:41.315 +00:00 [INF] Retrieved 0 leave requests for employee 2
2025-11-30 23:33:41.316 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:33:41.317 +00:00 [INF] Executed ViewResult - view Index executed in 1.3767ms.
2025-11-30 23:33:41.319 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 15.4931ms
2025-11-30 23:33:41.321 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:33:41.322 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 26.2467ms
2025-11-30 23:33:42.197 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:33:42.200 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:33:42.202 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:33:42.208 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:33:42.217 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:33:42.229 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:33:42.234 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:33:42.240 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:33:42.245 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:33:42.251 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:33:42.255 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:33:42.260 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:33:42.265 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:33:42.268 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:33:42.270 +00:00 [INF] Executed ViewResult - view Index executed in 2.1661ms.
2025-11-30 23:33:42.274 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 68.215ms
2025-11-30 23:33:42.276 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:33:42.279 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 82.0889ms
2025-11-30 23:33:43.190 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:33:43.197 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:33:43.199 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:33:43.202 +00:00 [INF] Fetching leave requests for employee 2
2025-11-30 23:33:43.207 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:33:43.211 +00:00 [INF] Retrieved 0 leave requests for employee 2
2025-11-30 23:33:43.213 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:33:43.214 +00:00 [INF] Executed ViewResult - view Index executed in 1.3209ms.
2025-11-30 23:33:43.215 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 14.178ms
2025-11-30 23:33:43.217 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:33:43.219 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 28.9054ms
2025-11-30 23:33:43.863 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:33:43.867 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:33:43.868 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:33:43.873 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:33:43.877 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:33:43.880 +00:00 [INF] Executed ViewResult - view Create executed in 2.737ms.
2025-11-30 23:33:43.882 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 10.9127ms
2025-11-30 23:33:43.883 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:33:43.885 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 21.2479ms
2025-11-30 23:33:55.810 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 293
2025-11-30 23:33:55.816 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:33:55.817 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:33:55.821 +00:00 [INF] Submitting leave request for employee 2 from "2026-01-01T00:00:00.0000000" to "2025-12-01T00:00:00.0000000"
2025-11-30 23:33:56.598 +00:00 [WRN] Leave request rejected: End date "2025-12-01T00:00:00.0000000" is before start date "2026-01-01T00:00:00.0000000"
2025-11-30 23:33:56.611 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:33:56.624 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:33:56.630 +00:00 [INF] Executed ViewResult - view Create executed in 5.4862ms.
2025-11-30 23:33:56.634 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 813.738ms
2025-11-30 23:33:56.636 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:33:56.637 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 827.2593ms
2025-11-30 23:34:03.424 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 293
2025-11-30 23:34:03.429 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:34:03.431 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:34:03.436 +00:00 [INF] Submitting leave request for employee 2 from "2026-01-01T00:00:00.0000000" to "2026-01-04T00:00:00.0000000"
2025-11-30 23:34:03.439 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:34:03.443 +00:00 [INF] Calculated 2 leave days (excluding weekends/holidays)
2025-11-30 23:34:03.446 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:34:03.453 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:34:03.458 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :4e9bec2e-1fe6-487a-9d2e-f191ca043d3f
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :4e9bec2e-1fe6-487a-9d2e-f191ca043d3f
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:34:03.478 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:34:03.482 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:34:03.485 +00:00 [INF] Executed ViewResult - view Create executed in 2.5317ms.
2025-11-30 23:34:03.487 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 51.8973ms
2025-11-30 23:34:03.489 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:34:03.491 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 67.2123ms
2025-11-30 23:34:05.556 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:34:05.562 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:34:05.564 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:34:05.569 +00:00 [INF] Fetching leave requests for employee 2
2025-11-30 23:34:05.571 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:34:05.574 +00:00 [INF] Retrieved 0 leave requests for employee 2
2025-11-30 23:34:05.577 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:34:05.579 +00:00 [INF] Executed ViewResult - view Index executed in 1.5805ms.
2025-11-30 23:34:05.581 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 12.9671ms
2025-11-30 23:34:05.583 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:34:05.584 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 28.251ms
2025-11-30 23:34:07.544 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Approvals/Index - null null
2025-11-30 23:34:07.549 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.ApprovalsController.Index (LeaveManagement)'
2025-11-30 23:34:07.552 +00:00 [INF] Route matched with {action = "Index", controller = "Approvals"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.ApprovalsController (LeaveManagement).
2025-11-30 23:34:07.555 +00:00 [INF] Fetching pending requests for manager 2
2025-11-30 23:34:07.563 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@managerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [e].[ManagerId] = @managerId AND [l].[Status] = N'Pending'
ORDER BY [l].[RequestDate]
2025-11-30 23:34:07.567 +00:00 [INF] Retrieved 0 pending requests for manager 2
2025-11-30 23:34:07.569 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:34:07.571 +00:00 [INF] Executed ViewResult - view Index executed in 2.4134ms.
2025-11-30 23:34:07.573 +00:00 [INF] Executed action LeaveManagement.Controllers.ApprovalsController.Index (LeaveManagement) in 19.0853ms
2025-11-30 23:34:07.577 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.ApprovalsController.Index (LeaveManagement)'
2025-11-30 23:34:07.579 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Approvals/Index - 200 null text/html; charset=utf-8 34.7829ms
2025-11-30 23:34:08.562 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:34:08.566 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:34:08.567 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:34:08.569 +00:00 [INF] Fetching leave requests for employee 2
2025-11-30 23:34:08.571 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:34:08.575 +00:00 [INF] Retrieved 0 leave requests for employee 2
2025-11-30 23:34:08.577 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:34:08.580 +00:00 [INF] Executed ViewResult - view Index executed in 2.334ms.
2025-11-30 23:34:08.581 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 12.6851ms
2025-11-30 23:34:08.583 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:34:08.585 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 22.9489ms
2025-11-30 23:34:09.124 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:34:09.128 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:34:09.129 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:34:09.133 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:34:09.136 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:34:09.148 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:34:09.154 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:34:09.160 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:34:09.166 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:34:09.173 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:34:09.179 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:34:09.183 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:34:09.188 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:34:09.192 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:34:09.194 +00:00 [INF] Executed ViewResult - view Index executed in 2.4362ms.
2025-11-30 23:34:09.197 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 64.9303ms
2025-11-30 23:34:09.199 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:34:09.201 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 76.8494ms
2025-11-30 23:34:36.456 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:34:36.462 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:34:36.463 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:34:36.466 +00:00 [INF] Fetching leave requests for employee 2
2025-11-30 23:34:36.472 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:34:36.477 +00:00 [INF] Retrieved 0 leave requests for employee 2
2025-11-30 23:34:36.479 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:34:36.480 +00:00 [INF] Executed ViewResult - view Index executed in 1.1277ms.
2025-11-30 23:34:36.481 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 16.001ms
2025-11-30 23:34:36.483 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:34:36.484 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 27.6013ms
2025-11-30 23:34:38.362 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:34:38.367 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 4.971ms
2025-11-30 23:34:38.373 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:34:38.445 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - null null
2025-11-30 23:34:38.450 +00:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js.map was not modified
2025-11-30 23:34:38.451 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - 304 null text/plain 5.6694ms
2025-11-30 23:34:38.493 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/lib/bootstrap/dist/css/bootstrap.min.css.map - null null
2025-11-30 23:34:38.497 +00:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css.map was not modified
2025-11-30 23:34:38.498 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/lib/bootstrap/dist/css/bootstrap.min.css.map - 304 null text/plain 5.5458ms
2025-11-30 23:34:40.562 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:34:40.567 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:34:40.568 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:34:40.574 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:34:40.579 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:34:40.581 +00:00 [INF] Executed ViewResult - view Create executed in 2.6184ms.
2025-11-30 23:34:40.583 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 11.2029ms
2025-11-30 23:34:40.585 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:34:40.587 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 24.7356ms
2025-11-30 23:34:40.613 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:34:40.618 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 4.0878ms
2025-11-30 23:34:40.624 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:34:49.263 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 294
2025-11-30 23:34:49.268 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:34:49.269 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:34:49.274 +00:00 [INF] Submitting leave request for employee 2 from "2025-12-11T00:00:00.0000000" to "2025-12-18T00:00:00.0000000"
2025-11-30 23:34:49.278 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:34:49.281 +00:00 [INF] Calculated 6 leave days (excluding weekends/holidays)
2025-11-30 23:34:49.283 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:34:49.291 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:34:49.295 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :4e9bec2e-1fe6-487a-9d2e-f191ca043d3f
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :4e9bec2e-1fe6-487a-9d2e-f191ca043d3f
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:34:49.314 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:34:49.318 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:34:49.321 +00:00 [INF] Executed ViewResult - view Create executed in 2.7594ms.
2025-11-30 23:34:49.323 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 50.2652ms
2025-11-30 23:34:49.325 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:34:49.327 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 64.0724ms
2025-11-30 23:34:49.345 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:34:49.350 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 4.7981ms
2025-11-30 23:34:49.355 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:34:49.360 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/css/site.css?v=PD_WYeGhJN5xosZsv1cHLTWh8wDMN3s1bVw7PvXATrQ - null null
2025-11-30 23:34:49.363 +00:00 [INF] The file /css/site.css was not modified
2025-11-30 23:34:49.366 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/css/site.css?v=PD_WYeGhJN5xosZsv1cHLTWh8wDMN3s1bVw7PvXATrQ - 304 null text/css 5.6311ms
2025-11-30 23:36:31.632 +00:00 [INF] Application is shutting down...
2025-11-30 23:36:43.540 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:36:43.650 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-30 23:36:43.701 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-30 23:36:43.852 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-30 23:36:43.878 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:36:43.884 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-30 23:36:43.903 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-30 23:36:43.921 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-11-30 23:36:43.931 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-30 23:36:44.258 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-30 23:36:44.329 +00:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-30 23:36:44.375 +00:00 [INF] Now listening on: http://localhost:5200
2025-11-30 23:36:44.379 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-30 23:36:44.381 +00:00 [INF] Hosting environment: Development
2025-11-30 23:36:44.383 +00:00 [INF] Content root path: C:\Users\hp\Documents\Projects\Leave Management system\LeaveManagement
2025-11-30 23:36:54.330 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Account/Logout - null null
2025-11-30 23:36:54.339 +00:00 [WRN] Failed to determine the https port for redirect.
2025-11-30 23:36:54.380 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Logout (LeaveManagement)'
2025-11-30 23:36:54.389 +00:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:36:54.428 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:36:54.441 +00:00 [INF] Executing RedirectResult, redirecting to /.
2025-11-30 23:36:54.447 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Logout (LeaveManagement) in 50.6175ms
2025-11-30 23:36:54.452 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Logout (LeaveManagement)'
2025-11-30 23:36:54.458 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Account/Logout - 302 0 null 131.5257ms
2025-11-30 23:36:54.464 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:36:54.467 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:36:54.469 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:36:54.540 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:36:54.617 +00:00 [INF] Executed ViewResult - view Login executed in 80.0614ms.
2025-11-30 23:36:54.622 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 151.2164ms
2025-11-30 23:36:54.624 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:36:54.627 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 162.7434ms
2025-11-30 23:36:54.643 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/css/site.css - null null
2025-11-30 23:36:54.653 +00:00 [INF] The file /css/site.css was not modified
2025-11-30 23:36:54.656 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/css/site.css - 304 null text/css 12.8205ms
2025-11-30 23:37:03.374 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 218
2025-11-30 23:37:03.381 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:37:03.398 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:37:03.422 +00:00 [INF] Login attempt for username: admin
2025-11-30 23:37:03.521 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:37:03.944 +00:00 [WRN] Login failed: Invalid password for user admin
2025-11-30 23:37:03.953 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:37:03.967 +00:00 [INF] Executed ViewResult - view Login executed in 14.5176ms.
2025-11-30 23:37:03.971 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 569.4604ms
2025-11-30 23:37:03.975 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:37:03.980 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 200 null text/html; charset=utf-8 605.896ms
2025-11-30 23:37:13.956 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 218
2025-11-30 23:37:13.961 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:37:13.962 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:37:13.969 +00:00 [INF] Login attempt for username: employee
2025-11-30 23:37:13.976 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:37:14.292 +00:00 [INF] Login successful: User employee, Role 3
2025-11-30 23:37:14.297 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:37:14.300 +00:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2025-11-30 23:37:14.301 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 334.5086ms
2025-11-30 23:37:14.303 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:37:14.306 +00:00 [INF] Session started; Key:fe076fab-e5c2-9c6a-5b63-a8853950d923, Id:c633e056-af0a-5f44-3494-d2cef470280c
2025-11-30 23:37:14.307 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 302 0 null 351.3576ms
2025-11-30 23:37:14.312 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:37:14.319 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:37:14.327 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:37:14.371 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:37:14.554 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:37:14.585 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:37:14.595 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:37:14.607 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:37:14.621 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:37:14.626 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:37:14.632 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:37:14.639 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:37:14.644 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:37:14.650 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:37:14.729 +00:00 [INF] Executed ViewResult - view Index executed in 79.0982ms.
2025-11-30 23:37:14.732 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 400.2441ms
2025-11-30 23:37:14.735 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:37:14.737 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 425.1478ms
2025-11-30 23:37:17.462 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:37:17.467 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:37:17.475 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:37:17.481 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:37:17.533 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:37:17.538 +00:00 [INF] Retrieved 0 leave requests for employee 3
2025-11-30 23:37:17.540 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:37:17.551 +00:00 [INF] Executed ViewResult - view Index executed in 11.1537ms.
2025-11-30 23:37:17.554 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 76.2267ms
2025-11-30 23:37:17.557 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:37:17.560 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 98.2606ms
2025-11-30 23:37:18.590 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:37:18.595 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:37:18.603 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:37:18.621 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:37:18.638 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:37:18.674 +00:00 [INF] Executed ViewResult - view Create executed in 36.2446ms.
2025-11-30 23:37:18.677 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 70.1592ms
2025-11-30 23:37:18.680 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:37:18.682 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 92.1173ms
2025-11-30 23:37:28.630 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 298
2025-11-30 23:37:28.636 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:37:28.651 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:37:28.669 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-03T00:00:00.0000000" to "2026-01-11T00:00:00.0000000"
2025-11-30 23:37:28.683 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:37:28.697 +00:00 [INF] Calculated 5 leave days (excluding weekends/holidays)
2025-11-30 23:37:28.706 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:37:28.856 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:37:28.887 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :94d1a050-2c63-4738-837f-14c3b94976f2
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :94d1a050-2c63-4738-837f-14c3b94976f2
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:37:28.907 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:37:28.918 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:37:28.923 +00:00 [INF] Executed ViewResult - view Create executed in 5.078ms.
2025-11-30 23:37:28.927 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 273.2222ms
2025-11-30 23:37:28.931 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:37:28.934 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 303.0759ms
2025-11-30 23:38:50.371 +00:00 [INF] Application is shutting down...
2025-11-30 23:39:01.881 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:39:01.990 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-30 23:39:02.044 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-30 23:39:02.187 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-30 23:39:02.207 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:39:02.214 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-30 23:39:02.228 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-30 23:39:02.245 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-11-30 23:39:02.255 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-30 23:39:02.652 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-30 23:39:02.797 +00:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-30 23:39:02.889 +00:00 [INF] Now listening on: http://localhost:5200
2025-11-30 23:39:02.895 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-30 23:39:02.898 +00:00 [INF] Hosting environment: Development
2025-11-30 23:39:02.901 +00:00 [INF] Content root path: C:\Users\hp\Documents\Projects\Leave Management system\LeaveManagement
2025-11-30 23:40:14.185 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/0/Create - null null
2025-11-30 23:40:14.193 +00:00 [WRN] Failed to determine the https port for redirect.
2025-11-30 23:40:14.228 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/0/Create - 404 0 null 43.333ms
2025-11-30 23:40:14.240 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/0/Create, Response status code: 404
2025-11-30 23:40:17.260 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:40:17.268 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:40:17.282 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:40:17.320 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:40:17.439 +00:00 [INF] Executed ViewResult - view Login executed in 118.3546ms.
2025-11-30 23:40:17.442 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 155.3346ms
2025-11-30 23:40:17.444 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:40:17.450 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 189.7749ms
2025-11-30 23:40:28.593 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 218
2025-11-30 23:40:28.598 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:40:28.618 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:40:28.740 +00:00 [INF] Login attempt for username: employee
2025-11-30 23:40:28.868 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:40:29.641 +00:00 [INF] Login successful: User employee, Role 3
2025-11-30 23:40:29.644 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:40:29.652 +00:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2025-11-30 23:40:29.655 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 1034.5258ms
2025-11-30 23:40:29.658 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:40:29.663 +00:00 [INF] Session started; Key:fe076fab-e5c2-9c6a-5b63-a8853950d923, Id:2f6bfbdd-d577-0249-6f28-4a4317db690b
2025-11-30 23:40:29.669 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 302 0 null 1076.4349ms
2025-11-30 23:40:29.674 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:40:29.679 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:40:29.688 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:40:29.755 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:40:30.102 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:40:30.145 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:40:30.159 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:40:30.177 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:40:30.197 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:40:30.203 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:40:30.211 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:40:30.220 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:40:30.228 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:40:30.237 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:40:30.370 +00:00 [INF] Executed ViewResult - view Index executed in 134.4407ms.
2025-11-30 23:40:30.373 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 682.1382ms
2025-11-30 23:40:30.375 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:40:30.378 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 704.0489ms
2025-11-30 23:40:33.073 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:40:33.076 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:40:33.085 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:40:33.090 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:40:33.120 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:40:33.123 +00:00 [INF] Retrieved 0 leave requests for employee 3
2025-11-30 23:40:33.126 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:40:33.141 +00:00 [INF] Executed ViewResult - view Index executed in 16.2331ms.
2025-11-30 23:40:33.144 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 56.6097ms
2025-11-30 23:40:33.146 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:40:33.148 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 75.146ms
2025-11-30 23:40:34.315 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:40:34.320 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:40:34.325 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:40:34.340 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:40:34.369 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:40:34.424 +00:00 [INF] Executed ViewResult - view Create executed in 55.3071ms.
2025-11-30 23:40:34.427 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 98.8802ms
2025-11-30 23:40:34.430 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:40:34.432 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 117.8106ms
2025-11-30 23:40:43.911 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 294
2025-11-30 23:40:43.916 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:40:43.933 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:40:43.960 +00:00 [INF] Submitting leave request for employee 3 from "2025-12-10T00:00:00.0000000" to "2025-12-15T00:00:00.0000000"
2025-11-30 23:40:43.976 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:40:43.997 +00:00 [INF] Calculated 4 leave days (excluding weekends/holidays)
2025-11-30 23:40:44.014 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:40:44.312 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:40:44.358 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :67d87049-01a6-49cb-bc85-f88a74891a29
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :67d87049-01a6-49cb-bc85-f88a74891a29
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:40:44.388 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:40:44.404 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:40:44.412 +00:00 [INF] Executed ViewResult - view Create executed in 8.3942ms.
2025-11-30 23:40:44.415 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 478.5923ms
2025-11-30 23:40:44.417 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:40:44.420 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 508.8886ms
2025-11-30 23:42:13.985 +00:00 [INF] Application is shutting down...
2025-11-30 23:42:23.273 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:42:23.370 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-30 23:42:23.446 +00:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-30 23:42:23.562 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-30 23:42:23.574 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:42:23.578 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-30 23:42:23.583 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-30 23:42:23.591 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-11-30 23:42:23.598 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-30 23:42:23.780 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-30 23:42:23.849 +00:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-30 23:42:23.898 +00:00 [INF] Now listening on: http://localhost:5200
2025-11-30 23:42:23.902 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-30 23:42:23.904 +00:00 [INF] Hosting environment: Development
2025-11-30 23:42:23.906 +00:00 [INF] Content root path: C:\Users\hp\Documents\Projects\Leave Management system\LeaveManagement
2025-11-30 23:42:32.997 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:42:33.005 +00:00 [WRN] Failed to determine the https port for redirect.
2025-11-30 23:42:33.044 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:42:33.052 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:42:33.101 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:42:33.197 +00:00 [INF] Executed ViewResult - view Login executed in 97.2656ms.
2025-11-30 23:42:33.206 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 148.8546ms
2025-11-30 23:42:33.208 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:42:33.214 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 218.8586ms
2025-11-30 23:42:41.007 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 215
2025-11-30 23:42:41.012 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:42:41.029 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:42:41.148 +00:00 [INF] Login attempt for username: admin
2025-11-30 23:42:41.250 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:42:41.998 +00:00 [INF] Login successful: User admin, Role 1
2025-11-30 23:42:42.001 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:42:42.008 +00:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2025-11-30 23:42:42.012 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 979.0293ms
2025-11-30 23:42:42.046 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:42:42.053 +00:00 [INF] Session started; Key:fe076fab-e5c2-9c6a-5b63-a8853950d923, Id:19ec43a2-3aa4-78e7-7d7f-29af7bd034c7
2025-11-30 23:42:42.061 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 302 0 null 1054.1366ms
2025-11-30 23:42:42.067 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:42:42.077 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:42:42.090 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:42:42.123 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:42:42.401 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:42:42.442 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:42:42.457 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:42:42.475 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:42:42.499 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:42:42.506 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:42:42.514 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:42:42.525 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:42:42.533 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:42:42.542 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:42:42.654 +00:00 [INF] Executed ViewResult - view Index executed in 112.9913ms.
2025-11-30 23:42:42.657 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 563.3516ms
2025-11-30 23:42:42.661 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:42:42.663 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 596.0819ms
2025-11-30 23:42:45.684 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Account/Logout - null null
2025-11-30 23:42:45.692 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Logout (LeaveManagement)'
2025-11-30 23:42:45.695 +00:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:42:45.704 +00:00 [INF] Executing RedirectResult, redirecting to /.
2025-11-30 23:42:45.706 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Logout (LeaveManagement) in 8.3491ms
2025-11-30 23:42:45.708 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Logout (LeaveManagement)'
2025-11-30 23:42:45.710 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Account/Logout - 302 0 null 26.0089ms
2025-11-30 23:42:45.715 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:42:45.719 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:42:45.722 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:42:45.727 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:42:45.731 +00:00 [INF] Executed ViewResult - view Login executed in 4.7922ms.
2025-11-30 23:42:45.734 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 8.3516ms
2025-11-30 23:42:45.737 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:42:45.739 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 24.1219ms
2025-11-30 23:42:52.667 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 218
2025-11-30 23:42:52.672 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:42:52.673 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:42:52.678 +00:00 [INF] Login attempt for username: employee
2025-11-30 23:42:52.681 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:42:53.081 +00:00 [INF] Login successful: User employee, Role 3
2025-11-30 23:42:53.083 +00:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2025-11-30 23:42:53.086 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 409.8788ms
2025-11-30 23:42:53.088 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:42:53.091 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 302 0 null 423.6427ms
2025-11-30 23:42:53.095 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:42:53.098 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:42:53.100 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:42:53.106 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:42:53.111 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:42:53.120 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:42:53.127 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:42:53.133 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:42:53.138 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:42:53.143 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:42:53.148 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:42:53.153 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:42:53.159 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:42:53.164 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:42:53.168 +00:00 [INF] Executed ViewResult - view Index executed in 3.9832ms.
2025-11-30 23:42:53.171 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 67.81ms
2025-11-30 23:42:53.174 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:42:53.176 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 80.8784ms
2025-11-30 23:42:55.484 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:42:55.491 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:42:55.499 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:42:55.506 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:42:55.541 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:42:55.546 +00:00 [INF] Retrieved 0 leave requests for employee 3
2025-11-30 23:42:55.549 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:42:55.562 +00:00 [INF] Executed ViewResult - view Index executed in 13.9455ms.
2025-11-30 23:42:55.565 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 61.2656ms
2025-11-30 23:42:55.567 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:42:55.570 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 85.3274ms
2025-11-30 23:42:56.568 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:42:56.577 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:42:56.588 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:42:56.599 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:42:56.618 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:42:56.663 +00:00 [INF] Executed ViewResult - view Create executed in 45.5008ms.
2025-11-30 23:42:56.666 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 74.2525ms
2025-11-30 23:42:56.668 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:42:56.672 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 103.8688ms
2025-11-30 23:43:13.917 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 306
2025-11-30 23:43:13.922 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:43:13.939 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:43:13.962 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-02T00:00:00.0000000" to "2026-01-31T00:00:00.0000000"
2025-11-30 23:43:13.977 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:43:13.997 +00:00 [INF] Calculated 21 leave days (excluding weekends/holidays)
2025-11-30 23:43:14.011 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:43:14.031 +00:00 [WRN] Leave request rejected: Insufficient leave balance for employee 3
2025-11-30 23:43:14.035 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:43:14.047 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:43:14.056 +00:00 [INF] Executed ViewResult - view Create executed in 9.3662ms.
2025-11-30 23:43:14.058 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 116.1133ms
2025-11-30 23:43:14.061 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:43:14.063 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 146.0823ms
2025-11-30 23:43:33.161 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:43:33.164 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:43:33.167 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:43:33.174 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:43:33.210 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:43:33.225 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:43:33.238 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:43:33.244 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:43:33.251 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:43:33.256 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:43:33.261 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:43:33.263 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:43:33.268 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:43:33.272 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:43:33.275 +00:00 [INF] Executed ViewResult - view Index executed in 3.8994ms.
2025-11-30 23:43:33.279 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 109.1727ms
2025-11-30 23:43:33.280 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:43:33.287 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 125.9665ms
2025-11-30 23:44:26.509 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:44:26.514 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:44:26.515 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:44:26.518 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:44:26.536 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:44:26.541 +00:00 [INF] Retrieved 0 leave requests for employee 3
2025-11-30 23:44:26.542 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:44:26.545 +00:00 [INF] Executed ViewResult - view Index executed in 3.6106ms.
2025-11-30 23:44:26.548 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 31.3597ms
2025-11-30 23:44:26.551 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:44:26.553 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 44.0838ms
2025-11-30 23:44:27.376 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:44:27.381 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:44:27.382 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:44:27.407 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:44:27.411 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:44:27.415 +00:00 [INF] Executed ViewResult - view Create executed in 4.083ms.
2025-11-30 23:44:27.418 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 34.4805ms
2025-11-30 23:44:27.420 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:44:27.423 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 46.6618ms
2025-11-30 23:44:43.172 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 292
2025-11-30 23:44:43.178 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:44:43.180 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:44:43.185 +00:00 [INF] Submitting leave request for employee 3 from "2025-12-02T00:00:00.0000000" to "2025-12-04T00:00:00.0000000"
2025-11-30 23:44:43.190 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:44:43.194 +00:00 [INF] Calculated 3 leave days (excluding weekends/holidays)
2025-11-30 23:44:43.198 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:44:43.447 +00:00 [INF] Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:44:43.519 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :36a867f9-2fd6-47d2-b685-4c8a8166442c
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :36a867f9-2fd6-47d2-b685-4c8a8166442c
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:44:43.555 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:44:43.562 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:44:43.565 +00:00 [INF] Executed ViewResult - view Create executed in 3.6495ms.
2025-11-30 23:44:43.568 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 384.2344ms
2025-11-30 23:44:43.570 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:44:43.573 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 400.6012ms
2025-11-30 23:45:17.477 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 292
2025-11-30 23:45:17.482 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:45:17.484 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:45:17.488 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-01T00:00:00.0000000" to "2026-01-07T00:00:00.0000000"
2025-11-30 23:45:17.493 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:45:17.497 +00:00 [INF] Calculated 5 leave days (excluding weekends/holidays)
2025-11-30 23:45:17.500 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:45:17.511 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:45:17.515 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :36a867f9-2fd6-47d2-b685-4c8a8166442c
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :36a867f9-2fd6-47d2-b685-4c8a8166442c
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:45:17.533 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:45:17.535 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:45:17.538 +00:00 [INF] Executed ViewResult - view Create executed in 2.0533ms.
2025-11-30 23:45:17.539 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 52.7748ms
2025-11-30 23:45:17.541 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:45:17.544 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 67.1408ms
2025-11-30 23:45:17.556 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/lib/bootstrap/dist/css/bootstrap.min.css - null null
2025-11-30 23:45:17.560 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/lib/jquery/dist/jquery.min.js - null null
2025-11-30 23:45:17.560 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/lib/bootstrap/dist/js/bootstrap.bundle.min.js - null null
2025-11-30 23:45:17.561 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/js/site.js?v=hRQyftXiu1lLX2P9Ly9xa4gHJgLeR1uGN5qegUobtGo - null null
2025-11-30 23:45:17.569 +00:00 [INF] The file /lib/bootstrap/dist/js/bootstrap.bundle.min.js was not modified
2025-11-30 23:45:17.569 +00:00 [INF] The file /lib/bootstrap/dist/css/bootstrap.min.css was not modified
2025-11-30 23:45:17.569 +00:00 [INF] The file /lib/jquery/dist/jquery.min.js was not modified
2025-11-30 23:45:17.570 +00:00 [INF] The file /js/site.js was not modified
2025-11-30 23:45:17.572 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/lib/bootstrap/dist/js/bootstrap.bundle.min.js - 304 null text/javascript 11.7637ms
2025-11-30 23:45:17.573 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/lib/bootstrap/dist/css/bootstrap.min.css - 304 null text/css 16.4858ms
2025-11-30 23:45:17.575 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/lib/jquery/dist/jquery.min.js - 304 null text/javascript 14.8462ms
2025-11-30 23:45:17.576 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/js/site.js?v=hRQyftXiu1lLX2P9Ly9xa4gHJgLeR1uGN5qegUobtGo - 304 null text/javascript 15.3692ms
2025-11-30 23:45:24.359 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 296
2025-11-30 23:45:24.363 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:45:24.367 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:45:24.378 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-01T00:00:00.0000000" to "2026-01-07T00:00:00.0000000"
2025-11-30 23:45:24.381 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:45:24.385 +00:00 [INF] Calculated 5 leave days (excluding weekends/holidays)
2025-11-30 23:45:24.387 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:45:24.396 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:45:24.402 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :36a867f9-2fd6-47d2-b685-4c8a8166442c
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :36a867f9-2fd6-47d2-b685-4c8a8166442c
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:45:24.431 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:45:24.434 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:45:24.436 +00:00 [INF] Executed ViewResult - view Create executed in 2.7115ms.
2025-11-30 23:45:24.438 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 63.0489ms
2025-11-30 23:45:24.446 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:45:24.448 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 89.2172ms
2025-11-30 23:46:33.724 +00:00 [INF] Application is shutting down...
2025-11-30 23:46:43.760 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:46:43.868 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-30 23:46:43.971 +00:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-30 23:46:44.188 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-30 23:46:44.208 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:46:44.212 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-30 23:46:44.228 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-30 23:46:44.245 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-11-30 23:46:44.254 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-30 23:46:44.639 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-30 23:46:44.836 +00:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-30 23:46:44.925 +00:00 [INF] Now listening on: http://localhost:5200
2025-11-30 23:46:44.931 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-30 23:46:44.934 +00:00 [INF] Hosting environment: Development
2025-11-30 23:46:44.937 +00:00 [INF] Content root path: C:\Users\hp\Documents\Projects\Leave Management system\LeaveManagement
2025-11-30 23:46:53.102 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Account/Logout - null null
2025-11-30 23:46:53.110 +00:00 [WRN] Failed to determine the https port for redirect.
2025-11-30 23:46:53.148 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Logout (LeaveManagement)'
2025-11-30 23:46:53.160 +00:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:46:53.194 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:46:53.210 +00:00 [INF] Executing RedirectResult, redirecting to /.
2025-11-30 23:46:53.216 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Logout (LeaveManagement) in 49.4285ms
2025-11-30 23:46:53.223 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Logout (LeaveManagement)'
2025-11-30 23:46:53.231 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Account/Logout - 302 0 null 130.7263ms
2025-11-30 23:46:53.240 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:46:53.244 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:46:53.247 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:46:53.323 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:46:53.403 +00:00 [INF] Executed ViewResult - view Login executed in 82.8232ms.
2025-11-30 23:46:53.406 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 157.606ms
2025-11-30 23:46:53.409 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:46:53.413 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 173.3363ms
2025-11-30 23:46:55.329 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:46:55.335 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:46:55.337 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:46:55.345 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:46:55.353 +00:00 [INF] Executed ViewResult - view Login executed in 7.4987ms.
2025-11-30 23:46:55.356 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 15.69ms
2025-11-30 23:46:55.358 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:46:55.361 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 31.8244ms
2025-11-30 23:47:06.753 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 218
2025-11-30 23:47:06.758 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:47:06.774 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:47:06.802 +00:00 [INF] Login attempt for username: employee
2025-11-30 23:47:06.935 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:47:07.597 +00:00 [INF] Login successful: User employee, Role 3
2025-11-30 23:47:07.599 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:47:07.603 +00:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2025-11-30 23:47:07.605 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 827.8223ms
2025-11-30 23:47:07.607 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:47:07.612 +00:00 [INF] Session started; Key:fe076fab-e5c2-9c6a-5b63-a8853950d923, Id:4b33964d-8c4c-f475-2438-4b8fd02b3d3c
2025-11-30 23:47:07.618 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 302 0 null 864.4457ms
2025-11-30 23:47:07.622 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:47:07.628 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:47:07.638 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:47:07.722 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:47:08.095 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:47:08.147 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:47:08.164 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:47:08.185 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:47:08.212 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:47:08.221 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:47:08.231 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:47:08.242 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:47:08.252 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:47:08.260 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:47:08.378 +00:00 [INF] Executed ViewResult - view Index executed in 118.3407ms.
2025-11-30 23:47:08.381 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 739.8276ms
2025-11-30 23:47:08.384 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:47:08.386 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 764.0293ms
2025-11-30 23:47:08.421 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/css/site.css?v=PD_WYeGhJN5xosZsv1cHLTWh8wDMN3s1bVw7PvXATrQ - null null
2025-11-30 23:47:08.430 +00:00 [INF] The file /css/site.css was not modified
2025-11-30 23:47:08.433 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/css/site.css?v=PD_WYeGhJN5xosZsv1cHLTWh8wDMN3s1bVw7PvXATrQ - 304 null text/css 11.6178ms
2025-11-30 23:47:15.056 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:47:15.061 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:47:15.070 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:47:15.075 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:47:15.107 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:47:15.112 +00:00 [INF] Retrieved 0 leave requests for employee 3
2025-11-30 23:47:15.115 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:47:15.130 +00:00 [INF] Executed ViewResult - view Index executed in 16.0707ms.
2025-11-30 23:47:15.134 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 61.5777ms
2025-11-30 23:47:15.137 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:47:15.139 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 83.491ms
2025-11-30 23:47:16.200 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:47:16.205 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:47:16.212 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:47:16.273 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:47:16.313 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:47:16.363 +00:00 [INF] Executed ViewResult - view Create executed in 50.7961ms.
2025-11-30 23:47:16.366 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 150.9756ms
2025-11-30 23:47:16.370 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:47:16.372 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 172.35ms
2025-11-30 23:47:30.767 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 303
2025-11-30 23:47:30.773 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:47:30.789 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:47:30.811 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-16T00:00:00.0000000" to "2026-01-17T00:00:00.0000000"
2025-11-30 23:47:30.869 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:47:30.892 +00:00 [INF] Calculated 1 leave days (excluding weekends/holidays)
2025-11-30 23:47:30.909 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:47:31.124 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:47:31.164 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:47:31.198 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:47:31.213 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:47:31.224 +00:00 [INF] Executed ViewResult - view Create executed in 11.6838ms.
2025-11-30 23:47:31.228 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 436.0165ms
2025-11-30 23:47:31.231 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:47:31.234 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 467.0295ms
2025-11-30 23:47:35.679 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:47:35.685 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 5.7249ms
2025-11-30 23:47:35.691 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:49:51.711 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 303
2025-11-30 23:49:51.716 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:49:51.718 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:49:51.724 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-16T00:00:00.0000000" to "2026-01-17T00:00:00.0000000"
2025-11-30 23:49:51.736 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:49:51.743 +00:00 [INF] Calculated 1 leave days (excluding weekends/holidays)
2025-11-30 23:49:51.748 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:49:51.763 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:49:51.768 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:49:51.791 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:49:51.793 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:49:51.797 +00:00 [INF] Executed ViewResult - view Create executed in 3.3692ms.
2025-11-30 23:49:51.798 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 75.9909ms
2025-11-30 23:49:51.800 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:49:51.803 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 92.0269ms
2025-11-30 23:49:51.834 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:49:51.841 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 6.9342ms
2025-11-30 23:49:51.845 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:49:57.535 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 303
2025-11-30 23:49:57.541 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:49:57.543 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:49:57.547 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-16T00:00:00.0000000" to "2026-01-17T00:00:00.0000000"
2025-11-30 23:49:57.549 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:49:57.551 +00:00 [INF] Calculated 1 leave days (excluding weekends/holidays)
2025-11-30 23:49:57.552 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:49:57.556 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:49:57.560 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:49:57.575 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:49:57.579 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:49:57.581 +00:00 [INF] Executed ViewResult - view Create executed in 2.2455ms.
2025-11-30 23:49:57.584 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 38.0341ms
2025-11-30 23:49:57.585 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:49:57.588 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 52.8866ms
2025-11-30 23:49:57.602 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:49:57.608 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 6.0461ms
2025-11-30 23:49:57.612 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:49:58.837 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:49:58.843 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:49:58.845 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:49:58.849 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:49:58.890 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:49:58.894 +00:00 [INF] Retrieved 0 leave requests for employee 3
2025-11-30 23:49:58.895 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:49:58.897 +00:00 [INF] Executed ViewResult - view Index executed in 2.1274ms.
2025-11-30 23:49:58.899 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 51.2188ms
2025-11-30 23:49:58.900 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:49:58.902 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 64.9ms
2025-11-30 23:49:58.923 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:49:58.927 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 4.4034ms
2025-11-30 23:49:58.932 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:50:08.923 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:50:08.928 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:50:08.930 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:50:08.939 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:50:08.944 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:50:08.948 +00:00 [INF] Executed ViewResult - view Create executed in 3.8278ms.
2025-11-30 23:50:08.951 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 18.4627ms
2025-11-30 23:50:08.954 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:50:08.956 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 33.3244ms
2025-11-30 23:50:09.016 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:50:09.022 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 6.3615ms
2025-11-30 23:50:09.028 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:50:29.540 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 296
2025-11-30 23:50:29.545 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:50:29.547 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:50:29.554 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-08T00:00:00.0000000" to "2026-01-09T00:00:00.0000000"
2025-11-30 23:50:29.559 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:50:29.563 +00:00 [INF] Calculated 2 leave days (excluding weekends/holidays)
2025-11-30 23:50:29.566 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:50:29.575 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:50:29.581 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:50:29.603 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:50:29.608 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:50:29.612 +00:00 [INF] Executed ViewResult - view Create executed in 4.4462ms.
2025-11-30 23:50:29.614 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 63.2952ms
2025-11-30 23:50:29.616 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:50:29.618 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 78.272ms
2025-11-30 23:50:29.635 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:50:29.639 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 4.3499ms
2025-11-30 23:50:29.645 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:50:44.255 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 300
2025-11-30 23:50:44.261 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:50:44.262 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:50:44.265 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-08T00:00:00.0000000" to "2026-01-09T00:00:00.0000000"
2025-11-30 23:50:44.268 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:50:44.271 +00:00 [INF] Calculated 2 leave days (excluding weekends/holidays)
2025-11-30 23:50:44.274 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:50:44.277 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:50:44.281 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:50:44.296 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:50:44.298 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:50:44.300 +00:00 [INF] Executed ViewResult - view Create executed in 1.8358ms.
2025-11-30 23:50:44.302 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 37.6123ms
2025-11-30 23:50:44.304 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:50:44.306 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 51.2833ms
2025-11-30 23:50:44.323 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:50:44.327 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 3.9313ms
2025-11-30 23:50:44.333 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:51:19.145 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 300
2025-11-30 23:51:19.150 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:51:19.152 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:51:19.156 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-08T00:00:00.0000000" to "2026-01-09T00:00:00.0000000"
2025-11-30 23:51:19.163 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:51:19.168 +00:00 [INF] Calculated 2 leave days (excluding weekends/holidays)
2025-11-30 23:51:19.172 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:51:19.180 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:51:19.185 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:51:19.204 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:51:19.207 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:51:19.210 +00:00 [INF] Executed ViewResult - view Create executed in 2.669ms.
2025-11-30 23:51:19.212 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 57.3628ms
2025-11-30 23:51:19.214 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:51:19.216 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 70.941ms
2025-11-30 23:51:19.282 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:51:19.290 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 8.1563ms
2025-11-30 23:51:19.296 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:51:25.418 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 300
2025-11-30 23:51:25.424 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:51:25.425 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:51:25.429 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-08T00:00:00.0000000" to "2026-01-09T00:00:00.0000000"
2025-11-30 23:51:25.433 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:51:25.439 +00:00 [INF] Calculated 2 leave days (excluding weekends/holidays)
2025-11-30 23:51:25.440 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:51:25.444 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:51:25.447 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:51:25.465 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:51:25.470 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:51:25.471 +00:00 [INF] Executed ViewResult - view Create executed in 1.5636ms.
2025-11-30 23:51:25.474 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 45.544ms
2025-11-30 23:51:25.475 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:51:25.477 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 59.119ms
2025-11-30 23:51:25.509 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:51:25.513 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 3.888ms
2025-11-30 23:51:25.520 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:51:30.666 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 300
2025-11-30 23:51:30.671 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:51:30.673 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:51:30.678 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-08T00:00:00.0000000" to "2026-01-09T00:00:00.0000000"
2025-11-30 23:51:30.685 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:51:30.689 +00:00 [INF] Calculated 2 leave days (excluding weekends/holidays)
2025-11-30 23:51:30.691 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:51:30.696 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:51:30.702 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:51:30.719 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:51:30.722 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:51:30.724 +00:00 [INF] Executed ViewResult - view Create executed in 1.6767ms.
2025-11-30 23:51:30.726 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 49.959ms
2025-11-30 23:51:30.729 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:51:30.731 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 65.7582ms
2025-11-30 23:51:30.746 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:51:30.753 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 7.375ms
2025-11-30 23:51:30.759 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:51:30.803 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/favicon.ico - null null
2025-11-30 23:51:30.808 +00:00 [INF] The file /favicon.ico was not modified
2025-11-30 23:51:30.810 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/favicon.ico - 304 null image/x-icon 6.2032ms
2025-11-30 23:51:33.353 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:51:33.359 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:51:33.360 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:51:33.362 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:51:33.371 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:51:33.375 +00:00 [INF] Retrieved 0 leave requests for employee 3
2025-11-30 23:51:33.376 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:51:33.378 +00:00 [INF] Executed ViewResult - view Index executed in 1.8913ms.
2025-11-30 23:51:33.380 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 18.3596ms
2025-11-30 23:51:33.384 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:51:33.386 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 32.2326ms
2025-11-30 23:51:33.403 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:51:33.408 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 5.292ms
2025-11-30 23:51:33.414 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:51:37.931 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:51:37.935 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:51:37.936 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:51:37.943 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:51:37.946 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:51:37.951 +00:00 [INF] Executed ViewResult - view Create executed in 4.7711ms.
2025-11-30 23:51:37.954 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 13.0432ms
2025-11-30 23:51:37.956 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:51:37.958 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 26.5116ms
2025-11-30 23:51:38.026 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:51:38.033 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 7.6774ms
2025-11-30 23:51:38.040 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:51:48.781 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 294
2025-11-30 23:51:48.789 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:51:48.790 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:51:48.793 +00:00 [INF] Submitting leave request for employee 3 from "2025-12-01T00:00:00.0000000" to "2026-01-16T00:00:00.0000000"
2025-11-30 23:51:48.800 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:51:48.804 +00:00 [INF] Calculated 34 leave days (excluding weekends/holidays)
2025-11-30 23:51:48.806 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:51:48.809 +00:00 [WRN] Leave request rejected: Insufficient leave balance for employee 3
2025-11-30 23:51:48.810 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:51:48.814 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:51:48.817 +00:00 [INF] Executed ViewResult - view Create executed in 2.832ms.
2025-11-30 23:51:48.820 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 27.6803ms
2025-11-30 23:51:48.823 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:51:48.825 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 43.2451ms
2025-11-30 23:51:48.839 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:51:48.844 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 5.2102ms
2025-11-30 23:51:48.850 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:52:08.929 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 294
2025-11-30 23:52:08.932 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:52:08.933 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:52:08.937 +00:00 [INF] Submitting leave request for employee 3 from "2025-12-01T00:00:00.0000000" to "2025-12-02T00:00:00.0000000"
2025-11-30 23:52:08.940 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:52:08.944 +00:00 [INF] Calculated 2 leave days (excluding weekends/holidays)
2025-11-30 23:52:08.947 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:52:08.956 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:52:08.962 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'AttachmentPath', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :78c612d7-dd51-4295-8964-66820390041d
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:52:08.987 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:52:08.991 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:52:08.995 +00:00 [INF] Executed ViewResult - view Create executed in 4.4554ms.
2025-11-30 23:52:08.998 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 62.0481ms
2025-11-30 23:52:09.000 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:52:09.002 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 73.0094ms
2025-11-30 23:52:09.067 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:52:09.072 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 4.5489ms
2025-11-30 23:52:09.077 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:53:36.366 +00:00 [INF] Application is shutting down...
2025-11-30 23:53:55.533 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:53:55.585 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-30 23:53:55.613 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-30 23:53:55.685 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-30 23:53:55.696 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:53:55.700 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-30 23:53:55.708 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-30 23:53:55.721 +00:00 [INF] Applying migration '20251130235346_MakeAttachmentPathNullable'.
2025-11-30 23:53:55.948 +00:00 [INF] Executed DbCommand (203ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var nvarchar(max);
SELECT @var = QUOTENAME([d].[name])
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[LeaveRequests]') AND [c].[name] = N'AttachmentPath');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [LeaveRequests] DROP CONSTRAINT ' + @var + ';');
ALTER TABLE [LeaveRequests] ALTER COLUMN [AttachmentPath] nvarchar(500) NULL;
2025-11-30 23:53:55.965 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251130235346_MakeAttachmentPathNullable', N'10.0.0');
2025-11-30 23:53:55.974 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-30 23:54:03.152 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:54:03.213 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-30 23:54:03.236 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-30 23:54:03.310 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-30 23:54:03.322 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:54:03.325 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-30 23:54:03.332 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-30 23:54:03.342 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-11-30 23:54:03.346 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-30 23:54:03.586 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-30 23:54:03.663 +00:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-30 23:54:03.709 +00:00 [INF] Now listening on: http://localhost:5200
2025-11-30 23:54:03.712 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-30 23:54:03.713 +00:00 [INF] Hosting environment: Development
2025-11-30 23:54:03.714 +00:00 [INF] Content root path: C:\Users\hp\Documents\Projects\Leave Management system\LeaveManagement
2025-11-30 23:54:10.072 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:54:10.078 +00:00 [WRN] Failed to determine the https port for redirect.
2025-11-30 23:54:10.107 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:54:10.115 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:54:10.160 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:54:10.279 +00:00 [INF] Executed ViewResult - view Login executed in 119.2102ms.
2025-11-30 23:54:10.288 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 167.6567ms
2025-11-30 23:54:10.292 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:54:10.306 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 234.8697ms
2025-11-30 23:54:10.318 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/css/site.css - null null
2025-11-30 23:54:10.320 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:54:10.330 +00:00 [INF] The file /css/site.css was not modified
2025-11-30 23:54:10.332 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/css/site.css - 304 null text/css 14.9183ms
2025-11-30 23:54:10.333 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 12.6822ms
2025-11-30 23:54:10.343 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:54:18.150 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 218
2025-11-30 23:54:18.157 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:54:18.178 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:54:18.287 +00:00 [INF] Login attempt for username: employee
2025-11-30 23:54:18.385 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:54:19.135 +00:00 [INF] Login successful: User employee, Role 3
2025-11-30 23:54:19.139 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:54:19.147 +00:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2025-11-30 23:54:19.151 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 968.427ms
2025-11-30 23:54:19.154 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:54:19.160 +00:00 [INF] Session started; Key:fe076fab-e5c2-9c6a-5b63-a8853950d923, Id:c93e217a-8507-9249-e1a2-0460b3ff58bc
2025-11-30 23:54:19.168 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 302 0 null 1017.5222ms
2025-11-30 23:54:19.173 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:54:19.180 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:54:19.191 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:54:19.221 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:54:19.515 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:54:19.564 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:54:19.591 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:54:19.612 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:54:19.640 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:54:19.647 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:54:19.655 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:54:19.666 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:54:19.676 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:54:19.685 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:54:19.815 +00:00 [INF] Executed ViewResult - view Index executed in 130.4905ms.
2025-11-30 23:54:19.818 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 622.7948ms
2025-11-30 23:54:19.821 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:54:19.824 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 650.3964ms
2025-11-30 23:54:19.863 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - null null
2025-11-30 23:54:19.873 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json - 404 0 null 9.7688ms
2025-11-30 23:54:19.880 +00:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/.well-known/appspecific/com.chrome.devtools.json, Response status code: 404
2025-11-30 23:54:24.193 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:54:24.197 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:54:24.208 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:54:24.214 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:54:24.258 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:54:24.264 +00:00 [INF] Retrieved 0 leave requests for employee 3
2025-11-30 23:54:24.268 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:54:24.288 +00:00 [INF] Executed ViewResult - view Index executed in 20.8649ms.
2025-11-30 23:54:24.290 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 79.3442ms
2025-11-30 23:54:24.293 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:54:24.295 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 101.888ms
2025-11-30 23:54:25.605 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:54:25.610 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:54:25.622 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:54:25.640 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:54:25.666 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:54:25.723 +00:00 [INF] Executed ViewResult - view Create executed in 58.1965ms.
2025-11-30 23:54:25.726 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 100.1743ms
2025-11-30 23:54:25.728 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:54:25.730 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 124.624ms
2025-11-30 23:54:37.721 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 295
2025-11-30 23:54:37.724 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:54:37.739 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:54:37.766 +00:00 [INF] Submitting leave request for employee 3 from "2025-12-11T00:00:00.0000000" to "2025-12-12T00:00:00.0000000"
2025-11-30 23:54:37.781 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:54:37.801 +00:00 [INF] Calculated 2 leave days (excluding weekends/holidays)
2025-11-30 23:54:37.819 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:54:38.071 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:54:38.112 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Leave.Data.LeaveContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'RejectionReason', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :33a8e36c-8366-4c8f-98b6-b8ec3b185d00
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Impossible d'insrer la valeur NULL dans la colonne 'RejectionReason', table 'LeaveManagementDB.dbo.LeaveRequests'. Cette colonne n'accepte pas les valeurs NULL. chec de INSERT.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId :33a8e36c-8366-4c8f-98b6-b8ec3b185d00
Error Number :515,State :2,Class :16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-30 23:54:38.139 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:54:38.153 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:54:38.162 +00:00 [INF] Executed ViewResult - view Create executed in 8.8927ms.
2025-11-30 23:54:38.164 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 421.4594ms
2025-11-30 23:54:38.167 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:54:38.172 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 450.6481ms
2025-11-30 23:56:18.894 +00:00 [INF] Application is shutting down...
2025-11-30 23:56:38.408 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:56:38.455 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-30 23:56:38.553 +00:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-30 23:56:38.665 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-30 23:56:38.678 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:56:38.681 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-30 23:56:38.690 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-30 23:56:38.702 +00:00 [INF] Applying migration '20251130235629_MakeOptionalFieldsNullable'.
2025-11-30 23:56:38.796 +00:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var nvarchar(max);
SELECT @var = QUOTENAME([d].[name])
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[LeaveRequests]') AND [c].[name] = N'RejectionReason');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [LeaveRequests] DROP CONSTRAINT ' + @var + ';');
ALTER TABLE [LeaveRequests] ALTER COLUMN [RejectionReason] nvarchar(500) NULL;
2025-11-30 23:56:38.808 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251130235629_MakeOptionalFieldsNullable', N'10.0.0');
2025-11-30 23:56:38.815 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-30 23:56:45.630 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:56:45.687 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-30 23:56:45.708 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-30 23:56:45.778 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-30 23:56:45.789 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:56:45.794 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-30 23:56:45.801 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-30 23:56:45.812 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-11-30 23:56:45.816 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-30 23:56:46.108 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-30 23:56:46.191 +00:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-30 23:56:46.241 +00:00 [INF] Now listening on: http://localhost:5200
2025-11-30 23:56:46.244 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-30 23:56:46.246 +00:00 [INF] Hosting environment: Development
2025-11-30 23:56:46.248 +00:00 [INF] Content root path: C:\Users\hp\Documents\Projects\Leave Management system\LeaveManagement
2025-11-30 23:56:51.053 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:56:51.061 +00:00 [WRN] Failed to determine the https port for redirect.
2025-11-30 23:56:51.084 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:56:51.103 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:56:51.140 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:56:51.286 +00:00 [INF] Executed ViewResult - view Login executed in 146.0741ms.
2025-11-30 23:56:51.293 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 187.0144ms
2025-11-30 23:56:51.296 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:56:51.301 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 249.319ms
2025-11-30 23:57:07.274 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 218
2025-11-30 23:57:07.279 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:57:07.299 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:57:07.414 +00:00 [INF] Login attempt for username: employee
2025-11-30 23:57:07.510 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:57:08.241 +00:00 [INF] Login successful: User employee, Role 3
2025-11-30 23:57:08.245 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:57:08.252 +00:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2025-11-30 23:57:08.257 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 954.2115ms
2025-11-30 23:57:08.260 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:57:08.266 +00:00 [INF] Session started; Key:fe076fab-e5c2-9c6a-5b63-a8853950d923, Id:4f874b98-0a0d-701e-c95c-1c6719f19624
2025-11-30 23:57:08.275 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 302 0 null 1000.9185ms
2025-11-30 23:57:08.281 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:57:08.290 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:57:08.299 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:57:08.325 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:57:08.617 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:57:08.661 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:57:08.676 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:57:08.697 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:08.722 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:57:08.731 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:08.742 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:08.754 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:08.766 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:08.777 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:57:08.905 +00:00 [INF] Executed ViewResult - view Index executed in 130.2387ms.
2025-11-30 23:57:08.908 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 606.1019ms
2025-11-30 23:57:08.911 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:57:08.912 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 630.915ms
2025-11-30 23:57:10.814 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:57:10.823 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:57:10.832 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:57:10.837 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:57:10.873 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:57:10.879 +00:00 [INF] Retrieved 0 leave requests for employee 3
2025-11-30 23:57:10.882 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:57:10.895 +00:00 [INF] Executed ViewResult - view Index executed in 13.944ms.
2025-11-30 23:57:10.897 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 62.9637ms
2025-11-30 23:57:10.899 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:57:10.901 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 86.8167ms
2025-11-30 23:57:11.767 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - null null
2025-11-30 23:57:11.772 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:57:11.782 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:57:11.800 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveTypeId], [l].[Description], [l].[IsPaid], [l].[MaxDaysPerYear], [l].[Name], [l].[RequiresApproval]
FROM [LeaveTypes] AS [l]
2025-11-30 23:57:11.826 +00:00 [INF] Executing ViewResult, running view Create.
2025-11-30 23:57:11.882 +00:00 [INF] Executed ViewResult - view Create executed in 56.8276ms.
2025-11-30 23:57:11.885 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 100.0707ms
2025-11-30 23:57:11.888 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:57:11.891 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Create - 200 null text/html; charset=utf-8 123.1332ms
2025-11-30 23:57:23.837 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - application/x-www-form-urlencoded 296
2025-11-30 23:57:23.842 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:57:23.859 +00:00 [INF] Route matched with {action = "Create", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Leave.Core.Models.LeaveRequest) on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:57:23.888 +00:00 [INF] Submitting leave request for employee 3 from "2026-01-03T00:00:00.0000000" to "2026-01-04T00:00:00.0000000"
2025-11-30 23:57:23.914 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[HolidayId], [h].[Date], [h].[Description], [h].[IsRecurring], [h].[Name]
FROM [Holidays] AS [h]
2025-11-30 23:57:23.933 +00:00 [INF] Calculated 0 leave days (excluding weekends/holidays)
2025-11-30 23:57:23.950 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveBalanceId], [l].[EmployeeId], [l].[LeaveTypeId], [l].[RemainingDays], [l].[TotalDays], [l].[UsedDays], [l].[Year]
FROM [LeaveBalances] AS [l]
2025-11-30 23:57:24.243 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = Int32), @p2='?' (Size = 500), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 1000), @p7='?' (Size = 500), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (Precision = 5) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [LeaveRequests] ([ApprovalDate], [ApprovedBy], [AttachmentPath], [EmployeeId], [EndDate], [LeaveTypeId], [Reason], [RejectionReason], [RequestDate], [StartDate], [Status], [TotalDays])
OUTPUT INSERTED.[LeaveRequestId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-11-30 23:57:24.283 +00:00 [INF] Leave request submitted successfully: RequestId 21, Employee 3
2025-11-30 23:57:24.285 +00:00 [INF] Executing RedirectResult, redirecting to /LeaveRequests/Index.
2025-11-30 23:57:24.288 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement) in 425.4016ms
2025-11-30 23:57:24.291 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Create (LeaveManagement)'
2025-11-30 23:57:24.293 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/LeaveRequests/Create - 302 0 null 456.0512ms
2025-11-30 23:57:24.299 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:57:24.304 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:57:24.306 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:57:24.312 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:57:24.340 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:57:24.350 +00:00 [INF] Retrieved 1 leave requests for employee 3
2025-11-30 23:57:24.353 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:57:24.372 +00:00 [INF] Executed ViewResult - view Index executed in 19.2362ms.
2025-11-30 23:57:24.376 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 64.8583ms
2025-11-30 23:57:24.378 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:57:24.381 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 82.2467ms
2025-11-30 23:57:32.864 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:57:32.867 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:57:32.868 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:57:32.882 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:57:32.906 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:57:32.926 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:57:32.932 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:57:32.938 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:32.945 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:57:32.948 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:32.952 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:32.959 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:32.963 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:32.970 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 98.1599ms
2025-11-30 23:57:32.974 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:57:32.976 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Leave.Services.Services.AnalyticsService.<>c.<GetLeaveTypeDistributionAsync>b__11_0(LeaveRequest r) in C:\Users\hp\Documents\Projects\Leave Management system\Leave.Services\Services\AnalyticsService.cs:line 87
   at System.Linq.Lookup`2.Create(IEnumerable`1 source, Func`2 keySelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.GroupByIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector)
   at Leave.Services.Services.AnalyticsService.GetLeaveTypeDistributionAsync() in C:\Users\hp\Documents\Projects\Leave Management system\Leave.Services\Services\AnalyticsService.cs:line 87
   at LeaveManagement.Controllers.DashboardController.Index() in C:\Users\hp\Documents\Projects\Leave Management system\LeaveManagement\Controllers\DashboardController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-30 23:57:33.076 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 500 null text/html; charset=utf-8 212.177ms
2025-11-30 23:57:47.383 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:57:47.389 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:57:47.392 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:57:47.400 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:57:47.412 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:57:47.426 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:57:47.432 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:57:47.441 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:47.448 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:57:47.456 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:47.463 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:47.472 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:47.479 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:57:47.483 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 87.4168ms
2025-11-30 23:57:47.487 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:57:47.490 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Leave.Services.Services.AnalyticsService.<>c.<GetLeaveTypeDistributionAsync>b__11_0(LeaveRequest r) in C:\Users\hp\Documents\Projects\Leave Management system\Leave.Services\Services\AnalyticsService.cs:line 87
   at System.Linq.Lookup`2.Create(IEnumerable`1 source, Func`2 keySelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.GroupByIterator`2.MoveNext()
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer)
   at System.Linq.Enumerable.ToDictionary[TSource,TKey,TElement](IEnumerable`1 source, Func`2 keySelector, Func`2 elementSelector)
   at Leave.Services.Services.AnalyticsService.GetLeaveTypeDistributionAsync() in C:\Users\hp\Documents\Projects\Leave Management system\Leave.Services\Services\AnalyticsService.cs:line 87
   at LeaveManagement.Controllers.DashboardController.Index() in C:\Users\hp\Documents\Projects\Leave Management system\LeaveManagement\Controllers\DashboardController.cs:line 28
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-30 23:57:47.513 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 500 null text/html; charset=utf-8 129.662ms
2025-11-30 23:58:36.141 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - null null
2025-11-30 23:58:36.146 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:58:36.147 +00:00 [INF] Route matched with {action = "Index", controller = "LeaveRequests"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.LeaveRequestsController (LeaveManagement).
2025-11-30 23:58:36.154 +00:00 [INF] Fetching leave requests for employee 3
2025-11-30 23:58:36.172 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@employeeId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [LeaveRequests] AS [l]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
LEFT JOIN [Employees] AS [e] ON [l].[ApprovedBy] = [e].[EmployeeId]
WHERE [l].[EmployeeId] = @employeeId
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:58:36.176 +00:00 [INF] Retrieved 1 leave requests for employee 3
2025-11-30 23:58:36.177 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:58:36.180 +00:00 [INF] Executed ViewResult - view Index executed in 2.5559ms.
2025-11-30 23:58:36.184 +00:00 [INF] Executed action LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement) in 31.1148ms
2025-11-30 23:58:36.188 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.LeaveRequestsController.Index (LeaveManagement)'
2025-11-30 23:58:36.190 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/LeaveRequests/Index - 200 null text/html; charset=utf-8 49.4861ms
2025-11-30 23:59:22.904 +00:00 [INF] Application is shutting down...
2025-11-30 23:59:32.806 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:59:32.926 +00:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-11-30 23:59:32.999 +00:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-11-30 23:59:33.135 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-11-30 23:59:33.156 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-11-30 23:59:33.162 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-11-30 23:59:33.173 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-11-30 23:59:33.190 +00:00 [INF] No migrations were applied. The database is already up to date.
2025-11-30 23:59:33.200 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-11-30 23:59:33.583 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Roles] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-30 23:59:33.693 +00:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-30 23:59:33.739 +00:00 [INF] Now listening on: http://localhost:5200
2025-11-30 23:59:33.742 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-11-30 23:59:33.744 +00:00 [INF] Hosting environment: Development
2025-11-30 23:59:33.745 +00:00 [INF] Content root path: C:\Users\hp\Documents\Projects\Leave Management system\LeaveManagement
2025-11-30 23:59:39.842 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Account/Logout - null null
2025-11-30 23:59:39.855 +00:00 [WRN] Failed to determine the https port for redirect.
2025-11-30 23:59:39.885 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Logout (LeaveManagement)'
2025-11-30 23:59:39.906 +00:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Logout() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:59:39.944 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:59:39.963 +00:00 [INF] Executing RedirectResult, redirecting to /.
2025-11-30 23:59:39.969 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Logout (LeaveManagement) in 56.0539ms
2025-11-30 23:59:39.975 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Logout (LeaveManagement)'
2025-11-30 23:59:40.002 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Account/Logout - 302 0 null 160.688ms
2025-11-30 23:59:40.009 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2025-11-30 23:59:40.013 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:59:40.017 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Login() on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:59:40.088 +00:00 [INF] Executing ViewResult, running view Login.
2025-11-30 23:59:40.181 +00:00 [INF] Executed ViewResult - view Login executed in 96.0964ms.
2025-11-30 23:59:40.185 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 165.7231ms
2025-11-30 23:59:40.187 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:59:40.191 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 200 null text/html; charset=utf-8 182.4443ms
2025-11-30 23:59:50.514 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/ - application/x-www-form-urlencoded 218
2025-11-30 23:59:50.521 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:59:50.536 +00:00 [INF] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String, System.String) on controller LeaveManagement.Controllers.AccountController (LeaveManagement).
2025-11-30 23:59:50.565 +00:00 [INF] Login attempt for username: employee
2025-11-30 23:59:51.847 +00:00 [INF] Executed DbCommand (1,200ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[UserId], [u].[CreatedDate], [u].[Email], [u].[EmployeeId], [u].[IsActive], [u].[PasswordHash], [u].[RoleId], [u].[Username]
FROM [Users] AS [u]
2025-11-30 23:59:52.546 +00:00 [INF] Login successful: User employee, Role 3
2025-11-30 23:59:52.548 +00:00 [INF] Accessing expired session, Key:fe076fab-e5c2-9c6a-5b63-a8853950d923
2025-11-30 23:59:52.554 +00:00 [INF] Executing RedirectResult, redirecting to /Dashboard/Index.
2025-11-30 23:59:52.557 +00:00 [INF] Executed action LeaveManagement.Controllers.AccountController.Login (LeaveManagement) in 2018.329ms
2025-11-30 23:59:52.560 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.AccountController.Login (LeaveManagement)'
2025-11-30 23:59:52.567 +00:00 [INF] Session started; Key:fe076fab-e5c2-9c6a-5b63-a8853950d923, Id:3ae122e1-a6cd-14de-aaca-0ebb36d598ec
2025-11-30 23:59:52.572 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/ - 302 0 null 2058.6073ms
2025-11-30 23:59:52.579 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/Dashboard/Index - null null
2025-11-30 23:59:52.584 +00:00 [INF] Executing endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:59:52.594 +00:00 [INF] Route matched with {action = "Index", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index() on controller LeaveManagement.Controllers.DashboardController (LeaveManagement).
2025-11-30 23:59:52.624 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:59:52.881 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@status='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[Status] = @status
ORDER BY [l].[RequestDate] DESC
2025-11-30 23:59:52.925 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:59:52.940 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@startDate='?' (DbType = DateTime2), @endDate='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays], [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance], [l0].[LeaveTypeId], [l0].[Description], [l0].[IsPaid], [l0].[MaxDaysPerYear], [l0].[Name], [l0].[RequiresApproval]
FROM [LeaveRequests] AS [l]
INNER JOIN [Employees] AS [e] ON [l].[EmployeeId] = [e].[EmployeeId]
INNER JOIN [LeaveTypes] AS [l0] ON [l].[LeaveTypeId] = [l0].[LeaveTypeId]
WHERE [l].[StartDate] >= @startDate AND [l].[EndDate] <= @endDate
ORDER BY [l].[StartDate]
2025-11-30 23:59:52.963 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:59:53.019 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [e].[EmployeeId], [e].[AnnualLeaveBalance], [e].[Department], [e].[DepartmentId], [e].[Email], [e].[FirstName], [e].[HireDate], [e].[IsActive], [e].[LastName], [e].[ManagerId], [e].[PhoneNumber], [e].[Position], [e].[SickLeaveBalance]
FROM [Employees] AS [e]
2025-11-30 23:59:53.025 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:59:53.035 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:59:53.045 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:59:53.054 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [l].[LeaveRequestId], [l].[ApprovalDate], [l].[ApprovedBy], [l].[AttachmentPath], [l].[EmployeeId], [l].[EndDate], [l].[LeaveTypeId], [l].[Reason], [l].[RejectionReason], [l].[RequestDate], [l].[StartDate], [l].[Status], [l].[TotalDays]
FROM [LeaveRequests] AS [l]
2025-11-30 23:59:53.065 +00:00 [INF] Executing ViewResult, running view Index.
2025-11-30 23:59:53.182 +00:00 [INF] Executed ViewResult - view Index executed in 118.7892ms.
2025-11-30 23:59:53.186 +00:00 [INF] Executed action LeaveManagement.Controllers.DashboardController.Index (LeaveManagement) in 587.7191ms
2025-11-30 23:59:53.189 +00:00 [INF] Executed endpoint 'LeaveManagement.Controllers.DashboardController.Index (LeaveManagement)'
2025-11-30 23:59:53.192 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/Dashboard/Index - 200 null text/html; charset=utf-8 613.3402ms
2025-11-30 23:59:53.231 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/css/site.css?v=PD_WYeGhJN5xosZsv1cHLTWh8wDMN3s1bVw7PvXATrQ - null null
2025-11-30 23:59:53.239 +00:00 [INF] The file /css/site.css was not modified
2025-11-30 23:59:53.241 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/css/site.css?v=PD_WYeGhJN5xosZsv1cHLTWh8wDMN3s1bVw7PvXATrQ - 304 null text/css 9.5752ms
